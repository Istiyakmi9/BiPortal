<div class="main-container">
    <div class="x_panel">
      <div class="x_header">
        <div class="d-flex justify-content-between">
          <div class="col-8">
            <div class="px-1">
              <app-breadcrums [title]="'Processing Payroll'"></app-breadcrums>
            </div>
          </div>
          <div class="col-3">
            <bot-autocomplete [data]="employeeData" [(ngModel)]="employeeId" (OnSelect)="onEmloyeeChanged($event)" (keydown.esc)="resetFilter()">
            </bot-autocomplete>
          </div>
        </div>
      </div>
      <div class="x_content">
        <ng-container *ngIf="isPageReady">
          <div class="row mb-3">
            <div class="col-md-1" *ngFor="let item of payrollCalendar; let i=index;">
              <a href="javascript:void(0)" class="text-decoration-none" (click)="selectPayrollMonth(item)">
                <div class="card text-center pt-2 active-payroll" [ngClass]="{'active-payroll': selectedPayrollCalendar.Month == item.Month}" data-name="payroll-tab">
                  <h5 class="text-center text-dark px-1">{{item.MonthName}} {{item.Year}}</h5>
                  <small class="text-muted  pb-1">{{item.MonthName | uppercase}} {{item.StartDate}} - {{item.MonthName | uppercase}} {{item.EndDate}}</small>
                  <small class="d-block text-center mb-0 pb-1" [ngClass]="{'text-bg-success ': item.Status == 2, 'text-bg-warning': item.Status == 3, 'bg-c text-white': item.Status == 4, 'text-secondary': item.Status == 1 || item.Status == 5}">
                    <i class="fa fa-check-square-o" *ngIf="item.Status == 2"></i>
                    <i class="fa fa-exclamation-triangle" *ngIf="item.Status == 3"></i>
                    <i class="fa fa-arrow-circle-right" *ngIf="item.Status == 4"></i>
                    {{item.Status == 1 ? 'NO DATA' : item.Status == 2 ? 'COMPLETED' : item.Status == 3 ? 'PENDING' : item.Status == 4 ? 'CURRENT' : 'UPCOMING'}}
                  </small>
                </div>
              </a>
            </div>
          </div>
          <div class="d-flex align-items-center py-2">
            <h5 class="fw-bold text-dark pe-2 mb-0">{{selectedPayrollCalendar.MonthName}} {{selectedPayrollCalendar.Year}}</h5>
            <small class="text-muted">({{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.StartDate}} - {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.EndDate}}, {{selectedPayrollCalendar.EndDate}} days)</small>
          </div>
          <div class="row">
            <div class="col-md-4 my-3">
              <div class="card p-3">
                <div class="row">
                  <div class="col-md-6">
                    <p class="mb-0 text-muted">TOTAL EMPLOYEES</p>
                    <h5>2</h5>
                  </div>
                  <div class="col-md-6">
                    <p class="mb-0 text-muted">CALENDAR DAYS</p>
                    <h5>{{selectedPayrollCalendar.EndDate}}</h5>
                  </div>
                </div>
                <div>
                  <p class="mb-0 text-muted">PAYROLL PROCESSED</p>
                  <div class="d-flex align-items-center">
                    <h5 class="mb-0">2/2</h5>
                    <small class="text-muted ps-2">EMPLOYEES</small>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-6 my-3 d-flex align-items-center justify-content-between">
              <div class="col-auto">
                <p class="mb-0 text-muted">TOTAL PAYROLL COST</p>
                <h5>INR 101950</h5>
              </div>
              <span>=</span>
              <div class="col-auto">
                <p class="mb-0 text-muted">EMPLOYEE DEPOSIT</p>
                <h5>INR 87894</h5>
              </div>
              <span>+</span>
              <div class="col-auto">
                <p class="mb-0 text-muted">TOTAL DEDUCTIONS</p>
                <h5>INR 10306</h5>
              </div>
              <span>+</span>
              <div class="col-auto">
                <p class="mb-0 text-muted">Total CONTRIBUTIONS</p>
                <h5>INR 3750</h5>
              </div>
            </div>
          </div>
          <div>
            <a href="javaascript:void(0)" class="text-decoration-none" (click)="collapse.toggle()" [attr.aria-expanded]="!isCollapsed" aria-controls="collapseExample">
              <div class="d-flex align-items-center">
                <i class="fa fa-caret-down fa-lg pe-2" [ngClass]="{'fa-caret-down': !isCollapsed, 'fa-caret-right': isCollapsed}"></i>
                <h5 class="fw-bold me-3 mb-0">Run Payroll</h5>
                <ng-container *ngIf="!this.allRunPayroll.RunPayrollFinalize">
                  <div class="col-md-8">
                    <p class="mb-0"><ngb-progressbar type="success" [value]="this.allRunPayroll.completedValue"></ngb-progressbar></p>
                  </div>
                  <p class="fw-bold ms-3 mb-0">{{this.allRunPayroll.completedValue / 16.66 > 6 ? 6 : this.allRunPayroll.completedValue / 16.66}} to 6 steps completed</p>
                </ng-container>
                <ng-container *ngIf="this.allRunPayroll.RunPayrollFinalize">
                  <span class="badge text-bg-primary text-normal">Finalize</span>
                  <span class="ps-1">(On {{submittedPayrollDate | date}} by {{userName}})</span>
                </ng-container>
              </div>
            </a>
          </div>
          <div #collapse="ngbCollapse" [(ngbCollapse)]="isCollapsed">
            <div class="row col-md-12">
              <div class="col-md-4 mt-3">
                <a href="javascript:void(0)" class="text-decoration-none" (click)="navleaveAttendanceWages()">
                  <div class="card ps-3">
                    <div class="row py-4 px-2">
                        <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                          <span><i class="fa fa-calendar fa-lg text-white"></i></span>
                        </div>
                        <div class="col-md-11">
                          <h6 class="mb-0">Leave, Attendance & Daily Wages
                            <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.LeaveAttendanceCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                          </h6>
                          <p class="text-muted text-truncate mb-0">No Action Taken </p>
                        </div>
                    </div>
                  </div>
                </a>
              </div>
              <div class="col-md-4 mt-3">
                <a href="javascript:void(0)" class="text-decoration-none" (click)="employeeChangesPopUp()">
                  <div class="card ps-3">
                    <div class="row py-4 px-2">
                      <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                        <span><i class="fa fa-user-o fa-lg text-white"></i></span>
                      </div>
                      <div class="col-md-11">
                        <h6 class="mb-0">New Joinee & Exits
                          <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.EmployeeChangeseCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                        </h6>
                        <p class="text-muted text-truncate mb-0">No Action Taken </p>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
              <div class="col-md-4 mt-3">
                <a href="javascript:void(0)" class="text-decoration-none" (click)="bonusSalryOvertimePopUp()">
                  <div class="card ps-3">
                    <div class="row py-4 px-2">
                      <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                        <span><i class="fa fa-birthday-cake fa-lg text-white"></i></span>
                      </div>
                      <div class="col-md-11">
                        <h6 class="mb-0">Bonus, Salary Revision & Overtime
                          <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.BonusSalaryOvertimeCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                        </h6>
                        <p class="text-muted text-truncate mb-0">No Action Taken </p>
                      </div>
                    </div>
                  </div>
                </a>
              </div>
            </div>
            <div class="row col-md-12">
                <div class="col-md-4 mt-3">
                    <a href="javascript:void(0)" class="text-decoration-none" (click)="reimbursementAdhocDeductPopUp()">
                        <div class="card ps-3">
                            <div class="row py-4 px-2">
                                <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                                    <span><i class="fa fa-object-group fa-lg text-white"></i></span>
                                </div>
                                <div class="col-md-11">
                                    <h6 class="mb-0">Reimbursement, Adhoc Payment, Deduction
                                      <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.ReimbursementAdhicDeductCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                                    </h6>
                                    <p class="text-muted text-truncate mb-0">No Action Taken</p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 mt-3">
                    <a href="javascript:void(0)" class="text-decoration-none" (click)="salariesArrearsPopUp()">
                        <div class="card ps-3">
                            <div class="row py-4 px-2">
                                <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                                    <span><i class="fa fa-trophy fa-lg text-white"></i></span>
                                </div>
                                <div class="col-md-11">
                                    <h6 class="mb-0">Salaries on Hold & Arrears
                                      <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.SalaryHoldArrearsCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                                    </h6>
                                    <p class="text-muted text-truncate mb-0">No Action Taken </p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
                <div class="col-md-4 mt-3">
                    <a href="javascript:void(0)" class="text-decoration-none" (click)="overridePopUp()">
                        <div class="card ps-3">
                            <div class="row py-4 px-2">
                                <div class="col-md-1 d-flex align-items-center justify-content-center bg-c rounded-pill">
                                    <span><i class="fa fa-user-times fa-lg text-white"></i></span>
                                </div>
                                <div class="col-md-11">
                                    <h6 class="mb-0">Override (PT, ESI, TDS, LWF)
                                      <i class="fa float-end" [ngClass]="{'fa-check-square-o text-success': this.allRunPayroll.OverrideCompleted && !this.allRunPayroll.RunPayrollFinalize, 'fa-lock text-primary-c': this.allRunPayroll.RunPayrollFinalize}"></i>
                                    </h6>
                                    <p class="text-muted text-truncate mb-0">No Action Taken </p>
                                </div>
                            </div>
                        </div>
                    </a>
                </div>
            </div>
            <!-- <p class="text-muted text-end mt-3 me-4">Last Changes on By </p> -->
            <div class="mt-3 me-4 text-end">
                <button class="btn btn-outline-primary" *ngIf="!this.allRunPayroll.RunPayrollFinalize" [disabled]="isLoading">Preview Run Payroll</button>
                <button class="btn btn-outline-primary ms-2" [disabled]="isLoading">Rreview all employees</button>
                <button class="btn btn-primary-c ms-2" *ngIf="!this.allRunPayroll.RunPayrollFinalize" 
                  [disabled]="isLoading" (click)="finalizePayrollPopUp()">
                    Finalize Payroll
                </button>
            </div>
          </div>
          <h5>Payroll Outcome</h5>
          <div class="row mb-2">
            <div class="col-md-2 py-2">
              <a href="javascript:void(0)" class="text-decoration-none">
                <i class="fa fa-list-alt"></i> View Pay Register
              </a>
            </div>
            <div class="col-md-2 py-2">
              <a href="javascript:void(0)" class="text-decoration-none">
                <i class="fa fa-list"></i> Manage PaySlip
              </a>
            </div>
          </div>
          <p class="border-top pt-2">Employee Payables
            <a href="javascript:void(0)" class="text-decoration-none float-end">Manage Payment</a>
          </p>
          <div class="row border-bottom pb-2">
            <div class="col-md-1">
              <small>BANK TRANSFER</small>
              <h5>INR 120533</h5>
            </div>
            <div class="col-md-1">
              <small>CHEQUES</small>
              <h5>INR 0</h5>
            </div>
            <div class="col-md-1">
              <small>CASH</small>
              <h5>INR 0</h5>
            </div>
            <div class="col-md-1">
              <small>TOTAL</small>
              <h5>INR 120533</h5>
            </div>
          </div>
          <p class="border-top pt-2">Income Tax TDS</p>
          <div class="row border-bottom pb-2">
            <div class="col-md-1">
              <small>TDS PAYABLE</small>
              <h5>INR 0</h5>
            </div>
            <div class="col-md-2">
              <small>NUMBER OF EMPLOYEES</small>
              <h5>0 Employees</h5>
            </div>
          </div>
          <p class="border-top pt-2">PF
            <a href="javascript:void(0)" class="text-decoration-none float-end">View Summary</a>
          </p>
          <div class="row border-bottom pb-2">
            <div class="col-md-1">
              <small>EMPLOYEE SHARE</small>
              <h5>INR 1800</h5>
            </div>
            <div class="col-md-1">
              <small>EMPLOYER SHARE</small>
              <h5>INR 1800</h5>
            </div>
            <div class="col-md-1">
              <small>OTHER CHARGES</small>
              <h5>INR 150</h5>
            </div>
          </div>
          <p class="border-top pt-2">Professional Tax
            <a href="javascript:void(0)" class="text-decoration-none float-end">View Summary</a>
          </p>
          <div class="row border-bottom pb-2">
            <div class="col-md-1">
              <small>TAX PAYABLE</small>
              <h5>INR 0</h5>
            </div>
            <div class="col-md-2">
              <small>NUMBER OF EMPLOYEES</small>
              <h5>0 Employees</h5>
            </div>
            <div class="col-md-1">
              <small>STATES</small>
            </div>
          </div>
        </ng-container>
        <!-- <ng-container *ngIf="!isPageReady">
          <div class="py-5 my-5">
            <h6 class="fw-bold fs-3 text-center text-dark">Processing Payroll settings are loading</h6>
            <div class="fs-5 pb-5 py-5 d-flex flex-column justify-content-center align-items-center">
              <div class="col-md-3 modal-container  text-center cog-wheel">
                <img src="assets/images/cog.gif" alt="" />
                <h6 class="modal-title title-message">
                  Please Wait ........
                </h6>
              </div>
            </div>
          </div>
        </ng-container> -->
      </div>
    </div>
</div>

<!-- Leave, Attendance and Wages Modal -->
<!-- <div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="leaveAttendanceWages" aria-labelledby="leaveAttendanceWagesLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="leaveAttendanceWagesLabel">Leave, Attendance & Daily Wages: {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">LEAVE APPLIED</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">LOP ADJUSTMENT</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 4}">LOP DETAILS</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
                <h5>Leave Applied</h5>
                <div class="alert alert-info">All leave (approved or pending) that fails under thid payroll cycel month will be displayed here</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Date</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Total Days</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Leave Type</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Status</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Approver</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1 text-center">
                            <div class="t-filter d-block text-center">
                              <a href="javascript:void(0)">ACTIONS</a>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="appliedLeaveDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of appliedLeaveDetail; let i=index;">
                            <div class="td align-middle ps-2 fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.FirstName}} {{item.LastName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.FromDate | date}} - {{item.ToDate | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.NumOfDays}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.PlanName}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.RequestStatusId == 2 ? 'Pending' : item.RequestStatusId == 5 ? 'Rejected' : 'Approved'}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Approver}}
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              <ng-container *ngIf="item.RequestStatusId != 9">
                                <a href="javascript:void(0)" (click)="submitActionForLeave(item, 'Approved')" data-bs-toggle="tooltip" data-bs-placement="right" title="Approve Leave">
                                  <i class="fa fa-check-square-o" aria-hidden="true"></i>
                                </a>
                                <a href="javascript:void(0)" class="ms-3" data-bs-toggle="tooltip" data-bs-placement="right" title="Reject Leave">
                                  <i class="fa fa-close text-danger" (click)="submitActionForLeave(item, 'Rejected')" aria-hidden="true"></i>
                                </a>
                              </ng-container>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="appliedLeaveDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
                <h5>Loss of Pay</h5>
                <div class="alert alert-info">All employees 'LOP' summaries for this month will be displayed below. Admin can override LOP days if required.</div>
                <div class="x_content">
                    <div class="d-flex mb-3 align-items-center justify-content-between">
                      <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                      <div class="col-md-3 float-end">
                          <div class="form-group has-search">
                            <span class="fa fa-search form-control-feedback"></span>
                            <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                              placeholder="Search Component">
                          </div>
                      </div>
                    </div>
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Actual LOP</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">LOP Adjustment</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Final LOP</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-index">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="">Action</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="lossPayDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of lossPayDetail; let i=index;">
                            <div class="td align-middle fe-index ps-2">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ActualLOP}} days
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.LOPAdjust}} days <span *ngIf="item.LeaveDeduct > 0">+ {{item.LeaveDeduct}} leave adjustment</span>
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{(item.LOPAdjust +item.LeaveDeduct)  > 0 ? (item.LOPAdjust +item.LeaveDeduct) : item.ActualLOP}} days
                              </div>
                            </div>
                            <div class="td align-middle text-truncate fe-1">
                              <div class="cell-wrapper text-truncate">
                                {{item.Comment}}
                              </div>
                            </div>
                            <div class="td align-middle fe-index">
                              <div class="cell-wrapper text-center">
                                <a href="javascript:void(0)" class="text-decoration-none" (click)="lopAdjustmentPopUp(item)">
                                  <i class="fa fa-pencil-square-o"></i>
                                </a>
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="lossPayDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
                <h5>Loss of Pay Details</h5>
                <div class="alert alert-info">In case of past months' LOP reversal', admin can add employees along with number of LOP days to be reversed.</div>
                <div class="x_content">
                    <div class="d-flex mb-3 align-items-center justify-content-between">
                        <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                        <div class="col-md-3 float-end">
                            <div class="form-group has-search">
                              <span class="fa fa-search form-control-feedback"></span>
                              <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                                placeholder="Search Component">
                            </div>
                        </div>
                    </div>
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">LOP Month</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Actual LOP</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">LOP Reversal Days</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="reverseLossPayDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of objectiveDetails; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate" data-bs-toggle="tooltip" data-bs-placement="right" title="{{item.description}}">
                              {{item.objective}}: {{item.description}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.timeFrameStart | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.timeFrmaeEnd | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.targetValue}} {{item.progressMeassureType == 1? '%' : ''}}
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              <a href="javascript:void(0)" >
                                <i class="fa fa-ellipsis-v" aria-hidden="true"></i>
                              </a>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="reverseLossPayDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 4" (click)="saveLeaveAttendaceWage()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="saveLeaveAttendaceWage()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="markLeaveAttendaceWageComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div> -->
<!-- Close Modal -->

<!-- New Joinee & Exit Modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="employeeChanges" aria-labelledby="employeeChangesLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="employeeChangesLabel">Employee Changes: {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">NEW JOINEES</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none flex-wrap" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 2}">EMPLOYEE IN EXIT PROCESS</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none flex-wrap" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">FULL & FINAL SETTLEMENT</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
                <h5>New Joinees</h5>
                <div class="alert alert-info">All the employees for whom payroll is enabled and whosse date of joining falls under this month will be shown here.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Date of Joining</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">No of Working Days</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Salary</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comments</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="newJoineeDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of newJoineeDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Date | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.WorkingDays}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Salary}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select" [(ngModel)]="item.PayAction">
                                  <option value="1">Hold salary processing this month</option>
                                  <option value="2">Process as salary</option>
                                  <option value="3">Void salary processing</option>
                                  <option value="4">Hold salary payout this month</option>
                                  <option value="5">Void salary payout</option>
                                  <option value="6">Already Paid</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" [(ngModel)]="item.Comment">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="newJoineeDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="newJoineeData" (onPageChange)="GetFilterNewJoineeResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
                <h5>Employee in Exist Process</h5>
                <div class="alert alert-info">Employee whose exit has been approved and are serving notice period wil be shown under 'Employee in Exit Process'. If there are any exit requests
                    that are yet to be approved but last working date fails under this month (based on the notice period assigned) will be shown under 'Pending Exit Requests.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Date of Registration</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Exit Action & Reason</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Last Working Day</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Exit Request Status</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Waiting On</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="exitEmpDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of exitEmpDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.DOJ | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Reason" class="form-control" [(ngModel)]="item.Reason">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Reason" class="form-control" [(ngModel)]="item.LastWorkingDay">
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              <select class="form-select" [(ngModel)]="item.ExitRequestStatus">
                                <option value="1">Pending</option>
                                <option value="2">Approved</option>
                                <option value="3">Rejected</option>
                              </select>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              {{item.WaitingOn | date}}
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="exitEmpDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="exitEmpData" (onPageChange)="GetFilterExitEmpResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
                <h5>Full & Final Settlement</h5>
                <div class="alert alert-info">Employees whose last working date is completed but F & F settlement is not done will be displayed here.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Exit Action & Reason</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Last Working Day</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Status</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Settled Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Actions</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="settlementDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of settlementDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                               <input type="text" placeholder="Reason" [(ngModel)]="item.Reason" class="form-control">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Reason" [(ngModel)]="item.LastWorkingDay" class="form-control">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select" [(ngModel)]="item.Status">
                                  <option value="1">Pending</option>
                                  <option value="2">Approved</option>
                                  <option value="3">Rejected</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Reason" [(ngModel)]="item.SettledAmount" class="form-control">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select" [(ngModel)]="item.Action">
                                  <option value="1">Pending</option>
                                  <option value="2">Approved</option>
                                  <option value="3">Rejected</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Reason" [(ngModel)]="item.Comment" class="form-control">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="settlementDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="settlementData" (onPageChange)="GetFilterSettlementResult($event)"></app-pagination>
                </div> -->
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 3" (click)="saveEmpChange()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 3" (click)="saveEmpChange()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 3" (click)="markEmpChangeComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Close Modal -->

<!-- Bonus, Salary Revision and Overtime Modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="bonusSalaryOvertime" aria-labelledby="bonusSalaryOvertimeLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="bonusSalaryOvertimeLabel">Employee Salary Changes: {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}},</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">BONUS</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 2}">Salary Revision</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">OVERTIME PAYMENT</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(4)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 4}">4</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 4}">SHIFT ALLOWANCE</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
                <h5>Bonus</h5>
                <div class="alert alert-info">All pending bonuses to be paid (including any pasy unpaid bonuses) will be shown here. New bonuses can also be added using 'Import Bonus'.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Payout Date</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Bonus Type</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="bonusDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of bonusDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.PayoutDate | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.BonusType}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Amount}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.PayAction}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" placeholder="Comment" class="form-control" [(ngModel)]="item.Comment">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="bonusDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="bonusData" (onPageChange)="GetFilterBonusResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
                <h5>Salary Revision</h5>
                <div class="alert alert-info">All pending revisions (including on-hold revisions from past months) will be displayed here.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Old Salary</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">New Salary</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Chnages %</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Gross Pay this month</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Revision Action</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="salaryRevisionDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of salaryRevisionDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate" >
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.OldSalary}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="New Salary" [(ngModel)]="item.NewSalary">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Changes}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select"  [(ngModel)]="item.RevisionAction">
                                  <option value="1">Option</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="New Salary" [(ngModel)]="item.Comment">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="New Salary" [(ngModel)]="item.Comment">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="salaryRevisionDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="salaryRevisionData" (onPageChange)="GetFilterSalaryRevisionResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
                <h5>Overtime Payment</h5>
                <div class="alert alert-info">Overtime details, including amount and OT dates will be displayed here (only if OT policies are configured and assigned to the employees). Any pending
                  overtime payments from past months will be also be displayed here.
                </div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Month</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Calculated Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Adjusted Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Payable Amount</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="overTimePaymentDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of overTimePaymentDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Month}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.CalculatedAmount | number: '1.2-2'}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Adjust Amount" [(ngModel)]="item.AdjustedAmount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select"  [(ngModel)]="item.PayAction">
                                  <option value="1">Action</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.PayableAmount}}
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="overTimePaymentDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="overTimePaymentData" (onPageChange)="GetFilterOvertimeResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 4">
                <h5>Shift Allowance Payment</h5>
                <div class="alert alert-info">Shift Allowance details, including amount and attendance dates will be displayed here (only if Shift Allowance policies are configured and assigned to the employees).
                  Any pending Shift Allowance payments from past months will also be displayed here.
                </div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Month</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Calculated Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Adjusted Amoount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Payable Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Comment</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="shiftAllowanceDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of shiftAllowanceDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Month}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.CalculatedAmount | number: '1.2-2'}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Adjust Amount" [(ngModel)]="item.AdjustedAmount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <select class="form-select"  [(ngModel)]="item.PayAction">
                                  <option value="1">Action</option>
                                </select>
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.PayableAmount}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Adjust Amount" [(ngModel)]="item.Comment">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="shiftAllowanceDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="shiftAllowanceData" (onPageChange)="GetFilterShiftResult($event)"></app-pagination>
                </div> -->
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 4" (click)="saveBonusAlaryOvertime()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="saveBonusAlaryOvertime()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="markBonusAlaryOvertimeComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Close Modal -->

<!-- Reimbursement, Adhoc Payment and Deduction Modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="reimbursementAdhicDeduction" aria-labelledby="reimbursementAdhicDeductionLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="reimbursementAdhicDeductionLabel">Reimbursement, Adhoc Payment, Deduction: {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">SALARY COMPONENT CLAIM</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 2}">EXPENSES</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">ADHOC PAYMENT</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(4)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 4}">4</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 4}">ADHOC DEDUCTION</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
                <h5>Salary Components Claim</h5>
                <div class="alert alert-info">All pending or approved claims (both reimbursable and reimbursement) that are supposed to be paid in this month will be displayed here.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Component Name</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Component Type</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Claim Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Status</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Approved/ Payable Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Approved On</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-index">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Action</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="salaryComponentsDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of salaryComponentsDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ComponentName | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ComponentType}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ClaimAmount}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Status}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Payable Amount" [(ngModel)]="item.PayableAmount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ApprovedOn | date}}
                              </div>
                            </div>
                            <div class="td align-middle text-center fe-index">
                              <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Component">
                                <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                              </a>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="salaryComponentsDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="salaryComponentsData" (onPageChange)="GetFilterSalaryCompResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
              <div class="alert alert-info">All expense claims & advanc requests (pending or approved) that are supposed to be paid in this month will be displayed here</div>
                <h5>Cash Advance Requests</h5>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Claim Number</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Claim Title & Type</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Expense Count</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Status</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Approved/ Payable Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Approved On</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-index">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Action</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="expensesDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of expensesDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate">
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ClaimNumber}}
                              </div>
                            </div>
                            <div class="td align-middle text-truncate fe-1">
                              <div class="cell-wrapper">
                                {{item.ClaimTitleType}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ExpenseCount}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Amount" [(ngModel)]="item.Amount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.Status}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Payable Amount" [(ngModel)]="item.PayableAmount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.ApprovedOn | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-index text-center ">
                              <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Expense">
                                <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                              </a>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="expensesDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="expensesData" (onPageChange)="GetFilterExpenseResult($event)"></app-pagination>
                </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
              <h5>Adhoc Payments</h5>
              <div class="alert alert-info">Adhoc payment that are supposed to be paid to the employees in this month, can be managed below.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Adhoc Payment Type</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Amount</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="adhocPaymentDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of adhocPaymentDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate" >
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.AdhocPaymentType}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" [(ngModel)]="item.Amount" placeholder="Amount">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" [(ngModel)]="item.Comment" placeholder="Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Adhoc Payment">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="adhocPaymentDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                  <app-pagination [pagination]="adhocPaymentData" (onPageChange)="GetFilterAdhocPaymentResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 4">
              <h5>Adhoc Deductions</h5>
              <div class="alert alert-info">Adhoc deduction that are supposed to be deducted to the employees salary in this month, can be managed below.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Adhoc Deduction Type</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Amount</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="adhocDeductionDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of adhocDeductionDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate" >
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.AdhocDeductionType}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" [(ngModel)]="item.Amount" placeholder="Amount">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" [(ngModel)]="item.Comment" placeholder="Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Adhoc Deduction">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="adhocDeductionDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                  <app-pagination [pagination]="adhocDeductionData" (onPageChange)="GetFilterAdhocDeductionResult($event)"></app-pagination>
              </div> -->
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 4" (click)="saveReimbursementAdhocDeduction()">
        <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
        <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="saveReimbursementAdhocDeduction()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="markReimburseAdhocDeductionComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Close Modal -->

<!-- Salaries on Hold and Arrears Modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="salariesArrears" aria-labelledby="salariesArrearsLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="salariesArrearsLabel">Salary on Hold & Arraers: {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">SALARY PROCESSING ON HOLD</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none flex-wrap" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 2}">SALARY PAYOUT ON HOLD</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none flex-wrap" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">ARREARS</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
              <h5>Salary Processing on Hold</h5>
              <div class="alert alert-info">In case of employer who are absconding or are on uninformed leave, you might want to hold/stop the processing of their salary. use the 'Salary processing on hold'
                the processing of salary for selected employees. They will also be excluded from PF/ESI/TDS calculation and will only be considered if you decide to process their salary in the future.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Pay Period</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Amount</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comments</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="salaryProcessingDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of salaryProcessingDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate" >
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.PayPeriod}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" placeholder="Amount" [(ngModel)]="item.Amount">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <select class="form-select"  [(ngModel)]="item.PayAction">
                              <option value="1">Action</option>
                            </select>
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" placeholder="Amount" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Salary Processing on Hold">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="salaryProcessingDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                  <app-pagination [pagination]="salaryProcessingData" (onPageChange)="GetFilterSalaryProcessingResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
              <h5>Salary Payout on Hold</h5>
              <div class="alert alert-info">In case you wish to process the ssalary bit hold the payout of employees (in cases such as, employee is under notice period, on uninformed leave for a while etc)
                use "Salary payout on hold" option. The salary of such employees will be processed, i.e they will be include for PF/ESI/TDS calculation and only the payout of salary will be put on hold. you
                can decide to payout this salary anytime in future.
              </div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Pay Period</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Pay Action</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comments</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="salaryPayoutDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of salaryPayoutDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate" >
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.PayPeriod}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <select class="form-select"  [(ngModel)]="item.PayAction">
                              <option value="1">Action</option>
                            </select>
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" class="form-control" placeholder="Amount" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete Salary Payout on Hold">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="salaryPayoutDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                <app-pagination [pagination]="salaryPayoutData" (onPageChange)="GetFilterSalaryPayoutResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
                <h5>Arrears</h5>
                <div class="alert alert-info">Employees arraers, either due to past dated revisions or due to salary on holds will be displayed here.</div>
                <div class="x_content">
                    <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                        <div class="tr">
                          <div class="th fe-index">
                            <div class="t-filter t-index">
                              <a href="javascript:void(0)" class="ps-3">#</a>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Employee</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Date Joined</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Total Arrear Amount</a>
                              </div>
                            </div>
                          </div>
                          <div class="th fe-1">
                            <div class="cell-wrapper">
                              <div class="t-filter">
                                <a href="javascript:void(0)" class="pe-2">Reasons</a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                      <div class="t-body">
                        <ng-container *ngIf="arraersDetail.length > 0">
                          <div class="tr py-2" *ngFor="let item of arraersDetail; let i=index;">
                            <div class="td align-middle text-center fe-index">{{i+1}}</div>
                            <div class="td align-middle fe-1 text-truncate" >
                              {{item.EmployeeName}}
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                {{item.DOJ | date}}
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Amount" [(ngModel)]="item.TotalArrearAmount">
                              </div>
                            </div>
                            <div class="td align-middle fe-1">
                              <div class="cell-wrapper">
                                <input type="text" class="form-control" placeholder="Reason" [(ngModel)]="item.Reason">
                              </div>
                            </div>
                          </div>
                        </ng-container>
                      </div>
                      <ng-container *ngIf="arraersDetail.length == 0">
                        <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                          <p class="my-5 py-5">Record Not Found</p>
                        </div>
                      </ng-container>
                    </div>
                </div>
                <!-- <div class="mt-3" *ngIf="isPageReady">
                    <app-pagination [pagination]="arraersData" (onPageChange)="GetFilterArraersResult($event)"></app-pagination>
                </div> -->
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 3" (click)="saveSalariesArrears()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 3" (click)="saveSalariesArrears()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 3" (click)="markSalariesArrearsComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Close Modal -->

<!-- Override (PT, ESI, TDS, LWF) Modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="override" aria-labelledby="overrideLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-fullscreen p-5">
    <div class="modal-content px-3">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="overrideLabel">Override (PT, ESI, TDS, LWF): {{selectedPayrollCalendar.MonthName | uppercase}} {{selectedPayrollCalendar.Year}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
    </div>
    <div class="modal-body">
        <div class="col-md-12 py-3">
            <div class="row align-items-center justify-content-center">
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(1)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 1}">1</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 1}">PT OVERRIDE</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(2)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 2}">2</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 2}">ESI OVERRIDE</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(3)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 3}">3</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 3}">TDS OVVERRIDE</div>
                    </a>
                </div>
                <div class="col-md-2">
                    <a href="javascript:void(0)" class="row align-items-center text-decoration-none" (click)="chnageActiveIndex(4)">
                        <div class="col-md-1 rounded-items border border-primary text-primary" [ngClass]="{'active-index': activeIndex == 4}">4</div>
                        <div class="col-md-10" [ngClass]="{'text-primary-c fw-bold': activeIndex == 4}">LWF OVERRIDE</div>
                    </a>
                </div>
            </div>
        </div>
        <div>
            <ng-container *ngIf="activeIndex == 1">
              <h5>PT Overrides</h5>
              <div class="alert alert-info">All Professional Tax overrides that were added for this month will be shown here. New overrides can be added as well from here</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Gross Salary</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Regular PT</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">PT Override Amount</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Override Month</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="ptOverrideDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of ptOverrideDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate">
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.GrossSalary | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.RegularPT | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.PTOverRideAmount">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.PTOverRideMonth}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete PT Override">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="ptOverrideDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                <app-pagination [pagination]="ptOverrideData" (onPageChange)="GetFilterPTOverideResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 2">
              <h5>ESI Overrides</h5>
              <div class="alert alert-info">All ESI overrides that were added for this month will be shown here. New overrides can be added as well from here.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Gross Salary</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">ESI Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee(Override)</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">ESI Employer</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employer(Override)</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Override Month</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="esiOverrideDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of esiOverrideDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate">
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.GrossSalary | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.ESIEmployee | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="ESI employee Override Amount" class="form-control" [(ngModel)]="item.EmployeeOverride">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.ESIEmployer | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="ESI employee Override Amount" class="form-control" [(ngModel)]="item.EmployerOverride">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.OverRideMonth}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete ESI Override">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="esiOverrideDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                <app-pagination [pagination]="esiOverrideData" (onPageChange)="GetFilterESIOverideResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 3">
              <h5>TDS Overrides</h5>
              <div class="alert alert-info">The Tds overrides that were added for this month will be shown here. New overrides can be addded as well from here.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Gross Salary</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Regular TDS</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">TDS Override Amount</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Override Month</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-index">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="tdsOverrideDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of tdsOverrideDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate">
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.GrossSalary | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.RegularTDS | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.TDSOverRideAmount">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.TDSOverRideMonth}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete TDS Override">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="tdsOverrideDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                  <app-pagination [pagination]="tdsOverrideData" (onPageChange)="GetFilterTDSOverideResult($event)"></app-pagination>
              </div> -->
            </ng-container>
            <ng-container *ngIf="activeIndex == 4">
              <h5>LWF Overrides</h5>
              <div class="alert alert-info">All LWF overrides that were added for this month will be shown here. New overrides can be added as well from here.</div>
              <div class="x_content">
                <div class="d-flex mb-3 align-items-center justify-content-between">
                  <button [disabled]="isLoading" class="btn btn-primary-c"><i class="fa fa-plus pe-1"></i> Add Employee</button>
                  <div class="col-md-3 float-end">
                      <div class="form-group has-search">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                          placeholder="Search Component">
                      </div>
                  </div>
                </div>
                <div class="t-table t-list t-border col-md-12">
                  <div class="hide-bar"></div>
                  <div class="t-head">
                    <div class="tr">
                      <div class="th fe-index">
                        <div class="t-filter t-index">
                          <a href="javascript:void(0)" class="ps-3">#</a>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee Name</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Gross Salary</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">LWF Employee</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employee(Override)</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">LWF Employer</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Employer(Override)</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Override Month</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Comment</a>
                          </div>
                        </div>
                      </div>
                      <div class="th fe-1">
                        <div class="cell-wrapper">
                          <div class="t-filter">
                            <a href="javascript:void(0)" class="pe-2">Action</a>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="t-body">
                    <ng-container *ngIf="lwfOverrideDetail.length > 0">
                      <div class="tr py-2" *ngFor="let item of lwfOverrideDetail; let i=index;">
                        <div class="td align-middle text-center fe-index">{{i+1}}</div>
                        <div class="td align-middle fe-1 text-truncate">
                          {{item.EmployeeName}}
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.GrossSalary | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.LWFEmployee | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="ESI employee Override Amount" class="form-control" [(ngModel)]="item.EmployeeOverride">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.LWFEmployer | number: '1.2-2'}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="ESI employee Override Amount" class="form-control" [(ngModel)]="item.EmployerOverride">
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            {{item.OverRideMonth}}
                          </div>
                        </div>
                        <div class="td align-middle fe-1">
                          <div class="cell-wrapper">
                            <input type="text" placeholder="PT Override Amount" class="form-control" [(ngModel)]="item.Comment">
                          </div>
                        </div>
                        <div class="td align-middle fe-index text-center ">
                          <a href="javascript:void(0)" class="" data-bs-toggle="tooltip" data-bs-placement="right" title="Delete ESI Override">
                            <i class="fa fa-trash-o text-danger" aria-hidden="true"></i>
                          </a>
                        </div>
                      </div>
                    </ng-container>
                  </div>
                  <ng-container *ngIf="lwfOverrideDetail.length == 0">
                    <div class="custom-height my-5 py-5 fw-bold fs-3 text-danger d-flex align-items-center justify-content-center">
                      <p class="my-5 py-5">Record Not Found</p>
                    </div>
                  </ng-container>
                </div>
              </div>
              <!-- <div class="mt-3" *ngIf="isPageReady">
                  <app-pagination [pagination]="lwfOverrideData" (onPageChange)="GetFilterLWFOverideResult($event)"></app-pagination>
              </div> -->
            </ng-container>
        </div>
      </div>
      <div class="modal-footer border-top-0">
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex > 1" (click)="backActivePages()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-arrow-left': !isLoading}"></i>
          <span class="ps-2">Back</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex >= 1 && activeIndex < 4" (click)="saveOverride()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Continue</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="saveOverride()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-floppy-o': !isLoading}"></i>
          <span class="ps-2">Save & Close</span>
        </button>
        <button [disabled]="isLoading" class="btn btn-primary-c" *ngIf="activeIndex == 4" (click)="markOverrideComplete()">
          <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check-square-o': !isLoading}"></i>
          <span class="ps-2">Mark as Completed</span>
        </button>
      </div>
    </div>
  </div>
</div>
<!-- Close Modal -->

<!-- Conform Payroll Modal -->
<div class="modal fade" id="confirmPayrollFinalize" tabindex="-1" aria-labelledby="confirmPayrollFinalizeLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content px-4">
      <div class="modal-header border-bottom-0">
        <h1 class="modal-title fs-5" id="confirmPayrollFinalizeLabel">Confirm Payroll Finalize</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p>Whe you finalize payroll, you can no longer make any chnages to payroll reviews screens such as leave, salary chnages. Please ensure all
          reviews are done right before finalizing the Payroll.
        </p>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary-c" (click)="finalizePayroll()">Finalize Payroll</button>
      </div>
    </div>
  </div>
</div>
<!-- End -->
