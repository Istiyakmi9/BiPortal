<div class="container my-4">
  <div>
    <form [formGroup]="initialForm">
      <div class="x_panel">
        <div class="x_header">
          <div class="x_header_title">
            <h2>Company Detail<small>Basic Company Details.</small></h2>
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mt-3">
            <label class="form-label">Organization Name</label>
            <input type="text" class="form-control" placeholder="Enter Organization Name" formControlName="OrganizationName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.OrganizationName.errors !== null && f.OrganizationName.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Company Name</label>
            <input type="text" class="form-control" placeholder="Enter Company Name" formControlName="CompanyName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.CompanyName.errors !== null && f.CompanyName.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Email Id *</label>
            <input class="form-control" formControlName="EmailId" placeholder="Email Id" [ngClass]="{'error-field': submitted && f.EmailId.errors !== null && (f.EmailId.errors.required || f.EmailId.errors.email)}"/>
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">GSTIN No.#</label>
            <input placeholder="GSTIN No.#" class="form-control" name="GSTNo" [ngClass]="{'error-field': submitted && f.GSTNo.errors !== null && f.GSTNo.errors.required}"
              oninput="this.value = this.value.toUpperCase()" formControlName="GSTNo" />
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mt-3">
            <label class="form-label">First Name</label>
            <input type="text" class="form-control" placeholder="Enter First Name" formControlName="FirstName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.FirstName.errors !== null && f.FirstName.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Last Name</label>
            <input type="text" class="form-control" placeholder="Enter Last Name" formControlName="LastName" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.LastName.errors !== null && f.LastName.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Mobile No.</label>
            <input type="text" class="form-control" maxlength="10" placeholder="Enter Mobile Name" formControlName="Mobile" onkeypress="return event.charCode >= 48 && event.charCode <= 57" [ngClass]="{'error-field': submitted && f.Mobile.errors !== null && f.Mobile.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">First Address</label>
            <input type="text" class="form-control" placeholder="Enter First Address" formControlName="FirstAddress" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.FirstAddress.errors !== null && f.FirstAddress.errors.required}">
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mt-3">
            <label class="form-label">Second Address</label>
            <input type="text" class="form-control" placeholder="Enter Second Address" formControlName="SecondAddress" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.SecondAddress.errors !== null && f.SecondAddress.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Third Address</label>
            <input type="text" class="form-control" placeholder="Enter Third Address" formControlName="ThirdAddress" oninput="this.value = this.value.toUpperCase()">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Fourth Address</label>
            <input type="text" class="form-control" placeholder="Enter Fourth Address" formControlName="ForthAddress" oninput="this.value = this.value.toUpperCase()">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">Country</label>
            <input type="text" class="form-control" placeholder="Enter Country" formControlName="Country" oninput="this.value = this.value.toUpperCase()">
          </div>
        </div>
        <div class="row">
          <div class="col-md-3 mt-3">
            <label class="form-label">State</label>
            <input type="text" class="form-control" placeholder="Enter State" formControlName="State" oninput="this.value = this.value.toUpperCase()"
            [ngClass]="{'error-field': submitted && f.State.errors !== null && f.State.errors.required}">
          </div>
          <div class="col-md-3 mt-3">
            <label class="form-label">City</label>
            <input type="text" class="form-control" placeholder="Enter City" formControlName="City" oninput="this.value = this.value.toUpperCase()">
          </div>
        </div>
      </div>
      <div class="row ">
        <div class="col-md-6 mt-3">
          <div class="x_panel">
            <div class="x_header">
              <div class="x_header_title">
                <h2>Bank Detail<small>Bank related detail for transaction.</small></h2>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label class="form-label">Bank Name</label>
                <input placeholder="Bank Name" class="form-control" name="BankName" [ngClass]="{'error-field': submitted && f.BankName.errors !== null && f.BankName.errors.required}"
                  oninput="this.value = this.value.toUpperCase()" formControlName="BankName" />
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Account No.# *</label>
                <input placeholder="Account No.#" class="form-control" name="AccountNo" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                  [ngClass]="{'error-field': submitted && f.AccountNo.errors !== null && f.AccountNo.errors.required}"
                  formControlName="AccountNo" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label class="form-label">IFSC Code</label>
                <input placeholder="IFSC Code" class="form-control" name="IFSC" [ngClass]="{'error-field': submitted && f.IFSC.errors !== null && f.IFSC.errors.required}"
                  oninput="this.value = this.value.toUpperCase()" formControlName="IFSC" />
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Branch Name</label>
                <input placeholder="Branch name" class="form-control" name="Branch" [ngClass]="{'error-field': submitted && f.Branch.errors !== null && f.Branch.errors.required}"
                  oninput="this.value = this.value.toUpperCase()" formControlName="Branch" />
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label class="form-label">Branch Code</label>
                <input placeholder="Branch Code" class="form-control" name="BranchCode" onkeypress="return event.charCode >= 48 && event.charCode <= 57"
                  formControlName="BranchCode" />
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">IsPrimayAccount</label>
                <select class="form-select" formControlName="IsPrimaryAccount">
                  <option value="true">Yes</option>
                  <option value="false">No</option>
                </select>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6 mt-3">
          <div class="x_panel">
            <div class="x_header">
              <div class="x_header_title">
                <h2>HOST Setting<small>Send email setting</small></h2>
              </div>
            </div>
            <div class="row col-md-12">
              <div class="col-md-6 mt-3">
                <label class="form-label">Email Host *</label>
                <input class="form-control" formControlName="EmailHost" placeholder="Email Host" [ngClass]="{'error-field': submitted && f.EmailHost.errors !== null && f.EmailHost.errors.required}"/>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Port No.# *</label>
                <input class="form-control" onkeypress="return event.charCode >= 48 && event.charCode <= 57" formControlName="PortNo" placeholder="Port Number" OnlyNumber="11" [ngClass]="{'error-field': submitted && f.PortNo.errors !== null && f.PortNo.errors.required}"/>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Enable SSL *</label>
                <select formControlName="EnableSsl" class="form-select" [ngClass]="{'error-field': submitted && f.EnableSsl.errors !== null && f.EnableSsl.errors.required}">
                  <option disabled value="">Select SSL is enable</option>
                  <option value="true">Yes</option>
                  <option value="false">No</option>
                </select>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Delivery Method </label>
                <input class="form-control" formControlName="DeliveryMethod" placeholder="Delivery Method"/>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">User Default Credentials *</label>
                <select formControlName="UserDefaultCredentials" class="form-select" [ngClass]="{'error-field': submitted && f.UserDefaultCredentials.errors !== null && f.UserDefaultCredentials.errors.required}">
                  <option disabled value="">Select Default Credentials</option>
                  <option value="true">Yes</option>
                  <option value="false">No</option>
                </select>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Credentials *</label>
                <input class="form-control" formControlName="Credentials" placeholder="Credentials" [ngClass]="{'error-field': submitted && f.Credentials.errors !== null && f.Credentials.errors.required}" />
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Email Name *</label>
                <input class="form-control" formControlName="EmailName" placeholder="Email Name" oninput="this.value = this.value.toUpperCase()" [ngClass]="{'error-field': submitted && f.EmailName.errors !== null && f.EmailName.errors.required}"/>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Is Primary</label>
                <select formControlName="IsPrimary" class="form-select">
                  <option value="true">Yes</option>
                  <option value="false">No</option>
                </select>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-md-6 mt-3">
          <div class="x_panel">
            <div class="x_header">
              <div class="x_header_title">
                <h2>Company Setting<small>Company basic settings.</small></h2>
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label for="" class="form-label">Declaration Start Month</label>
                <select formControlName="DeclarationStartMonth" class="form-select" (change)="selectDeclartionStartMonth($event)">
                  <option value="1">Jan</option>
                  <option value="2">Feb</option>
                  <option value="3">Mar</option>
                  <option value="4">Apr</option>
                  <option value="5">May</option>
                  <option value="6">Jun</option>
                  <option value="7">Jul</option>
                  <option value="8">Aug</option>
                  <option value="9">Sep</option>
                  <option value="10">Oct</option>
                  <option value="11">Nov</option>
                  <option value="12">Dec</option>
                </select>
                <!-- <input maxlength="2" type="text" class="form-control" formControlName="DeclarationStartMonth" placeholder="Enter declaration start month" onkeypress="return event.charCode >= 48 && event.charCode <= 57"> -->
              </div>
              <div class="col-md-6 mt-3">
                <label for="" class="form-label">Declaration End Month</label>
                <select formControlName="DeclarationEndMonth" class="form-select" >
                  <option value="1">Jan</option>
                  <option value="2">Feb</option>
                  <option value="3">Mar</option>
                  <option value="4">Apr</option>
                  <option value="5">May</option>
                  <option value="6">Jun</option>
                  <option value="7">Jul</option>
                  <option value="8">Aug</option>
                  <option value="9">Sep</option>
                  <option value="10">Oct</option>
                  <option value="11">Nov</option>
                  <option value="12">Dec</option>
                </select>
                <!-- <input maxlength="2" type="text" class="form-control" placeholder="Enter declaration end month" onkeypress="return event.charCode >= 48 && event.charCode <= 57"> -->
              </div>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label for="" class="form-label">Financial Year</label>
                <input maxlength="4" type="text" class="form-control" formControlName="FinancialYear" placeholder="Enter financial year" onkeypress="return event.charCode >= 48 && event.charCode <= 57">
              </div>
              <div class="col-md-6 mt-3">
                <label for="" class="form-label">Attendance Appling Back Days Limit</label>
                <input maxlength="2" type="number" class="form-control" formControlName="AttendanceSubmissionLimit" placeholder="Enter attendance limit to apply in back date." onkeypress="return event.charCode >= 48 && event.charCode <= 57">
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6 mt-3">
          <div class="x_panel">
            <div class="x_header">
              <div class="x_header_title">
                <h2>Company Logo<small>Company primary logo</small></h2>
              </div>
            </div>
            <div class="row">
              <div [ngClass]="{'col-md-6': FileDocumentList.length > 0, 'col-md-12': FileDocumentList.length == 0}">
                <div class="">
                  <input type="file" id="uploadCompanyPrimaryLogo" class="d-none" accept=".jpg, .jpeg, .png" (change)="logoFile($event)"/>
                  <div class="page-card">
                    <div class="card">
                      <div class="col-md-12 p-0">
                        <div class="table-responsive">
                          <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                            <div role="tabpanel" class="active in mt-4 ps-4 pe-4" id="tab_content1"
                              aria-labelledby="home-tab">
                              <div id="classmasterdata" class="col-md-12">
                                <div name="ifilezone" class="ifilezone mb-4" (click)="fireBrowser()">
                                  <div *ngIf="FileDocumentList.length == 0">
                                    <span style="color: darkgray;margin-top: 9rem;display: block;">
                                      Drop files here.
                                    </span>
                                  </div>
                                  <div class="col-md-12 custom-bg justify-content-center" *ngIf="FileDocumentList.length > 0"
                                    name="uploading">
                                    <img [src]="companyLogo" class="img-fluid"/>
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6 custom-bg d-flex flex-column justify-content-center" *ngIf="FileDocumentList.length > 0" name="uploading">
                <div class="d-flex">
                  File:
                  <div name="filename" class="ms-2" style="display: inline-block !important;">
                    {{ FileDocumentList[0].FileName }}
                  </div>
                </div>
                <div>
                  File size: &nbsp;
                  <div name="filesize" style="display: inline-block !important;">
                    {{ FileDocumentList[0].FileSize | number: '1.2-2'}}
                  </div>
                  KB
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </form>
  </div>
  <div class="text-end mt-3">
    <button class="btn btn-success" [disabled]="isLoading" (click)="registerAccount()">
      <i  [ngClass]="{'fa-spin fa-solid fa-spinner': isLoading, 'fa-solid fa-plus': !isLoading}"></i>
      <span class="ps-2">{{ isLoading ? 'Wait' : 'Register' }}</span>
    </button>
  </div>
</div>

<!-- New Registeration modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="messageModal" tabindex="-1" aria-labelledby="messageModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="p-2 modal-content">
      <div class="modal-body text-dark d-flex align-items-center mb-0 pb-0">
        <div class="wrapper-checkmark me-3">
          <svg class="checkmark-register" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 52 52"> <circle class="checkmark__circle" cx="26" cy="26" r="25" fill="none"/> <path class="checkmark__check" fill="none" d="M14.1 27.2l7.1 7.2 16.7-16.8"/>
          </svg>
        </div>
        Congratulation!! initial registration successfully!
      </div>
      <div class="modal-footer mt-0 pt-0 border-top-0">
        <a href="javascript:void(0)" class="text-decoration-none text-dark fw-bold" (click)="gotoLoginPage()">OK</a>
      </div>
    </div>
  </div>
</div>
<!-- End -->
