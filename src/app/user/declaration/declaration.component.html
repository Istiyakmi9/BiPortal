<div class="col-12 full-v main-container">
  <div class="col-12 x_panel p-0 m-0">
    <app-breadcrums></app-breadcrums>
    <div class="right-panel container col-md-12 p-0">
      <ng-container>
        <div class="container-fluid pt-4">
          <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
            <li [ngbNavItem]="1">
              <a ngbNavLink>1.5 Lac Exemptions</a>
              <ng-template ngbNavContent>
                <ng-container>
                  <h5 class="ps-3">1.5 Lac Exemptions</h5>
                  <p class=" ps-3">
                    The aggregate amount of deductions under section 80C, section 80CCC and sub-section (1) of 80CCD
                  </p>
                  <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                          <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">SECTION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DEDUCATION NAME</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">MAX LIMIT</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DECLARATION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">PROOF</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">STATUS</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1 text-center">ACTIONS</div>
                          </div>
                      </div>
                      <div class="t-body">
                          <div class="tr py-2" *ngFor="let r of exemptions; let i=index">
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  {{r.Section}} <sup>$</sup>
                                </div>
                              </div>
                              <div class="td align-middle fe-3">
                                <div class="cell-wrapper">
                                  {{r.DeductionName}} <a href="javascript:void(0)"
                                        class="text-decoration-none"><i
                                            class="fa fa-question-circle ps-3 text-secondary text-justify"
                                            placement="end" ngbPopover="{{r.DeductionDesc}}"></i></a>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  INR {{r.MaxLimit}}
                                </div>
                              </div>
                              <div class="td align-middle fe-2">
                                <div class="cell-wrapper">
                                  <span *ngIf="r.Declaration != null">{{r.Declaration | currency:'INR'}}</span>
                                  <span *ngIf="r.Declaration == null">Not Declared</span>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  <span *ngIf="r.Proof == null">No Proof</span>
                                  <span *ngIf="r.Proof != null">{{r.Proof}}</span>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  <div class="d-flex align-items-center">
                                      <ng-container *ngIf="r.Status == 1">
                                          <div class="circle">
                                              <div class="checkmark">
                                              </div>
                                          </div>
                                          <span class="ps-3">Auto Accepted</span>
                                      </ng-container>
                                      <span *ngIf="r.Status == 2">Not Submitted</span>
                                  </div>
                                </div>
                              </div>
                              <div class="td align-middle">
                                  <ng-container *ngIf="i> 1">
                                      <i class="fa fa-pencil text-muted ps-3" placement="top"
                                          ngbTooltip="Edit Declaration" *ngIf="editInternetAllowance"
                                          (click)="editInternetAllowanceDetail()"></i>
                                      <div class="d-flex align-items-center" *ngIf="!editInternetAllowance">
                                          <a href="javascript:void(0)" class="text-decoration-none">Save</a>
                                          <a href="javascripr:void(0)" class="text-decoration-none text-danger ps-3"
                                              (click)="cancelEditInternetAllowance()">Cancel</a>
                                      </div>
                                  </ng-container>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="modal-footer border-top-0">
                      <button type="button" class="btn btn-outline-success"
                          (click)="nextDeclaration('otherExemptions')">Next</button>
                  </div>
                </ng-container>
              </ng-template>
            </li>

            <li [ngbNavItem]="2">
              <a ngbNavLink>Other Exemptions</a>
              <ng-template ngbNavContent>
                <ng-container>
                  <h5 class="ps-3">Other Exemptions</h5>
                  <p class=" ps-3">Other deductions under chapter VI(A) which is from 80CCD1(B) to 80U</p>
                  <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                          <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">SECTION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DEDUCATION NAME</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">MAX LIMIT</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DECLARATION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">PROOF</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">STATUS</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">ACTIONS</div>
                          </div>
                      </div>
                      <div class="t-body">
                          <div class="tr py-2" *ngFor="let r of otherExemptions">
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  {{r.Section}} <sup>$</sup>
                                </div>
                              </div>
                              <div class="td align-middle fe-3">
                                <div class="cell-wrapper">
                                  {{r.DeductionName}} <a href="javascript:void(0)"
                                        class="text-decoration-none"><i
                                            class="fa fa-question-circle ps-3 text-secondary text-justify"
                                            placement="end" ngbPopover="{{r.DeductionDesc}}"></i></a>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  INR {{r.MaxLimit}}
                                </div>
                              </div>
                              <div class="td align-middle fe-2">
                                <div class="cell-wrapper">
                                  <span *ngIf="r.Declaration != null">{{r.Declaration}}</span>
                                  <span *ngIf="r.Declaration == null">Not Declared</span>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  {{r.Proof}}</div>
                                </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  <div class="d-flex align-items-center">
                                      <ng-container *ngIf="r.Status == 1">
                                          <div class="circle">
                                              <div class="checkmark">
                                              </div>
                                          </div>
                                          <span class="ps-3">Auto Accepted</span>
                                      </ng-container>
                                      <span *ngIf="r.Status == 2">Not Submitted</span>
                                  </div>
                                </div>
                              </div>
                              <div class="td align-middle">
                                  <i class="fa fa-pencil text-muted ps-3" placement="top"
                                      ngbTooltip="Edit Declaration" *ngIf="editInternetAllowance"
                                      (click)="editInternetAllowanceDetail()"></i>
                                  <div class="d-flex align-items-center" *ngIf="!editInternetAllowance">
                                      <a href="javascript:void(0)" class="text-decoration-none">Save</a>
                                      <a href="javascripr:void(0)" class="text-decoration-none text-danger ps-3"
                                          (click)="cancelEditInternetAllowance()">Cancel</a>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="modal-footer border-top-0">
                      <button type="button" class="btn btn-outline-primary" (click)="nextDeclaration('exemptions')">Prev</button>
                      <button type="button" class="btn btn-outline-success"
                          (click)="nextDeclaration('taxSavingAllowance')">Next</button>
                  </div>
                </ng-container>
              </ng-template>
            </li>

            <li [ngbNavItem]="3">
              <a ngbNavLink>Education</a>
              <ng-template ngbNavContent>
                <ng-container>
                  <h5 class="ps-3">Tax Saving Allowances</h5>
                  <p class=" ps-3">Following allowances are exempted from Gross for Income tax calculation only when claim
                      is
                      submitted against allowances.</p>
                  <div class="alert alert-warning mx-4" role="alert">
                      Tax excempted values are based on the amount allocated in your salary structure. Please check income
                      tax
                      calculation to view tax exempted amount.
                  </div>
                  <div class="t-table t-list t-border col-md-12">
                      <div class="hide-bar"></div>
                      <div class="t-head">
                          <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">SECTION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DEDUCATION NAME</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">MAX LIMIT</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">DECLARATION</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">PROOF</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                      <a href="javascript:void()">STATUS</a>
                                      <i class="fa fa-sort-amount-asc" aria-hidden="true"></i>
                                      <i class="fa fa-sort-amount-desc d-none" aria-hidden="true"></i>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">ACTIONS</div>
                          </div>
                      </div>
                      <div class="t-body">
                          <div class="tr py-2" *ngFor="let r of taxSavingAllowance">
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  {{r.Section}} <sup>$</sup>
                                </div>
                              </div>
                              <div class="td align-middle fe-3">
                                <div class="cell-wrapper">
                                  {{r.DeductionName}} <a href="javascript:void(0)"
                                        class="text-decoration-none"><i
                                            class="fa fa-question-circle ps-3 text-secondary text-justify"
                                            placement="end" ngbPopover="{{r.DeductionDesc}}"></i></a>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  INR {{r.MaxLimit}}</div>
                                </div>
                              <div class="td align-middle fe-2">
                                <div class="cell-wrapper">
                                  <span *ngIf="r.Declaration != null">{{r.Declaration}}</span>
                                  <span *ngIf="r.Declaration == null">Not Declared</span>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  <span *ngIf="r.Proof == null">No Proof</span>
                                  <span *ngIf="r.Proof != null">{{r.Proof}}</span>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                <div class="cell-wrapper">
                                  <div class="d-flex align-items-center">
                                      <ng-container *ngIf="r.Status == 1">
                                          <div class="circle">
                                              <div class="checkmark">
                                              </div>
                                          </div>
                                          <span class="ps-3">Auto Accepted</span>
                                      </ng-container>
                                      <span *ngIf="r.Status == 2">Not Submitted</span>
                                  </div>
                                </div>
                              </div>
                              <div class="td align-middle fe-1">
                                  <i class="fa fa-pencil text-muted ps-3" placement="top"
                                      ngbTooltip="Edit Declaration" *ngIf="editInternetAllowance"
                                      (click)="editInternetAllowanceDetail()"></i>
                                  <div class="d-flex align-items-center" *ngIf="!editInternetAllowance">
                                      <a href="javascript:void(0)" class="text-decoration-none">Save</a>
                                      <a href="javascripr:void(0)" class="text-decoration-none text-danger ps-3"
                                          (click)="cancelEditInternetAllowance()">Cancel</a>
                                  </div>
                              </div>
                          </div>
                      </div>
                  </div>
                  <div class="modal-footer border-top-0">
                      <button type="button" class="btn btn-outline-primary" (click)="nextDeclaration('otherExemptions')">Prev</button>
                      <button type="button" class="btn btn-outline-success" (click)="submitDeclaration()">Submit</button>
                  </div>
                </ng-container>
              </ng-template>
            </li>
          </ul>

          <div [ngbNavOutlet]="nav" class="mt-3"></div>
        </div>
      </ng-container>
    </div>
  </div>
</div>

<!-- Add Attachment Popup -->
<div class="modal fade attachment-popup" id="addAttachmentModal" tabindex="-1" aria-labelledby="exampleModalLabel"
    aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded">
            <div class="modal-header bg-secondary text-light">
                <h5 class="modal-title fw-normal" id="exampleModalLabel">Add Attachment</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <p class="text-secondary">DECLARATION</p>
                <p class="text-dark">PDF</p>
                <div class="text-center rounded py-4 upload-document-container">
                    <input type="file" class="d-none" accept=".png, .jpg, .pdf. .doc, .docx, .txt, application/pdf"
                        (change)="UploadAttachment($event)" multiple id="uploadAttachment">
                    <a href="javascript:void(0)" class="text-decoration-none" (click)="fireFileBrowser()"><i
                            class="fa fa-paperclip pe-2"></i>
                        Add Attachment <i class="fa fa-info-circle text-secondary ps-2" placement="top" ngbTooltip="You are allowed to submit only 12 file(s).
                    Allowed format are .pdf, .jpg, .png, .doc, .txt. The file size should not exceed 2MB."></i></a>
                    <div class="text-danger text-center fw-bold" *ngIf="isLargeFile">
                        File size is greater than 2MB.
                    </div>
                </div>
            </div>
            <div class="modal-footer border-top-0">
                <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-outline-primary" [disabled]="isLargeFile"
                    (click)="saveAttachment()">Save</button>
            </div>
        </div>
    </div>
</div>
<!-- End -->


