<div class="col-md-12">
  <ng-container *ngIf="isEmpPageReady">
    <div class="x_panel">
        <div class="x_header">
            <div class="x_header_title mt-3">
              <div class="row">
                <div class="col-md-4" *ngIf="fileLoaded">
                  <label class="form-label">Developer Name *</label>
                  <app-iautocomplete [data]="autoCompleteModal" [(ngModel)]="employeeId">
                  </app-iautocomplete>
                </div>
                <div class="col-md-8 filter-action-container text-end">
                  <a href="javascript:void(0)">
                    <i class="fa fa-filter"></i>
                  </a>
                </div>
                <!-- <div class="col-md-8 global-searchbox">
                  <label class="pe-2">Check to apply filter for all</label>
                  <input type="checkbox" (change)="alterResultSet($event)" id="checkall">
                </div> -->
              </div>

              <!-- <div class="col-md-8">
                  <label class="form-label">Advanced Filter</label>
                  <input type="text" class="form-control" (keyup.enter)="globalFilter()" placeholder="By any: (Client Name, Bill No.)" [(ngModel)]="anyFilter">
              </div> -->
              <div class="mt-3 row">
                <div class="col-md-5 row ms-1 p-0">
                  <div class="col-md-6 d-flex justify-content-center align-items-center">
                    <label for="" class="pe-2">From</label>
                    <form class="form-inline">
                      <div class="form-group">
                        <div class="input-group">
                          <input class="form-control" placeholder="yyyy-mm-dd"
                          (dateSelect)="fromDateSelection($event)" name="from" [(ngModel)]="fromModel" ngbDatepicker #from="ngbDatepicker">
                          <div class="input-group-append">
                            <button class="btn btn-outline-dark fa fa-calendar" (click)="from.toggle()" type="button"></button>
                          </div>
                        </div>
                      </div>
                    </form>

                    <!-- <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.GeneratedOn" placeholder="From Date"> -->
                  </div>
                  <div class="col-md-6 d-flex justify-content-center align-items-center">
                    <label for="" class="pe-2">To</label>
                    <form class="form-inline">
                      <div class="form-group">
                        <div class="input-group">
                          <input class="form-control" placeholder="yyyy-mm-dd"
                          (dateSelect)="toDateSelection($event)" name="to" [(ngModel)]="toModel" ngbDatepicker #to="ngbDatepicker">
                          <div class="input-group-append">
                            <button class="btn btn-outline-dark fa fa-calendar" (click)="to.toggle()" type="button"></button>
                          </div>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>
                <div class="col-md-7 ms-2">
                  <button class="btn btn-outline-danger filter-btn-grp float-end ms-3" (click)="resetFilter()">
                      <i class="fa fa-repeat"></i> Reset filter
                  </button>
                    <button class="btn btn-primary filter-btn-grp float-end" (click)="filterRecords()">
                        <i class="fa fa-filter me-1"></i> Filter
                    </button>
                </div>
              </div>

              <!-- <div class="float-end d-inline create-link">
                <div class="btn-group me-4" role="group" aria-label="Basic radio toggle button group">
                  <input type="radio" class="btn-check" name="btnradio" id="btnradio1" autocomplete="off"
                      checked>
                  <label class="btn btn-outline-primary" for="btnradio1">Active</label>

                  <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off">
                  <label class="btn btn-outline-dark" for="btnradio2">InActive</label>

                  <input type="radio" class="btn-check" name="btnradio" id="btnradio3" autocomplete="off">
                  <label class="btn btn-outline-success" for="btnradio3">All</label>
                </div>
              </div> -->
            </div>
        </div>

        <!-- Pdf viewer modal -->
        <div class="d-none file-container" id="file-container" (click)="closePdfViewer()">
            <div class="text-end">
                <a (click)="closePdfViewer()" class="close_view">
                    <i class="fa fa-times fa-2x" aria-hidden="true"></i>
                </a>
            </div>
            <iframe src="" width="800px" height="600px" style="border: none;"></iframe>
        </div>

        <div class="x_content">
            <!-- <app-dynamic-table [config]="tableConfiguration" (clicked)="ClickEvents($event)"></app-dynamic-table> -->
            <!-- <div>Use below input fields textbox to customize column name</div> -->
            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>
                    #
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.ClientName" placeholder="By Client Name">
                    <div class="col-title">
                        Client Name
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.BillNo" placeholder="By Bill No">
                    <div class="col-title">
                        Bill No.#
                    </div>
                  </th>
                  <!-- <th>Month</th> -->
                  <th>
                    <select class="form-control table-filter-control" aria-label="Default select example" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.Status">
                      <option selected>Status</option>
                      <option value="1">Completed</option>
                      <option value="2">Pending</option>
                      <option value="3">Canceled</option>
                    </select>
                    <div class="col-title">
                        Status
                    </div>
                  </th>
                  <th>
                    <div class="col-title">
                        Paid On
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.GeneratedOn" placeholder="By Generated On">
                    <div class="col-title">
                        Generated On
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.BilledAmount" placeholder="By Billed Amount">
                    <div class="col-title">
                        Billed Amount
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.ReceivedAmount" placeholder="By Received Amount">
                    <div class="col-title">
                        Received Amount
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.SalaryAmount" placeholder="By Salary Amount">
                    <div class="col-title">
                        Salary Amount
                    </div>
                  </th>
                  <th>
                    <input class="form-control table-filter-control" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.GSTAmount" placeholder="By GST Amount">
                    <div class="col-title">
                        GST Amount
                    </div>
                  </th>
                  <th width="7%">
                    <select class="form-control table-filter-control" aria-label="Default select example" (keyup.enter)="filterRecords()" [(ngModel)]="employeeFile.GSTStatus">
                      <option value="1">Completed</option>
                      <option value="2">Pending</option>
                      <option value="3">Canceled</option>
                    </select>
                    <div class="col-title" >
                        GST Status
                    </div>
                  </th>
                  <th>
                    <div class="col-title">
                        TDS(10%)
                    </div>
                  </th>
                  <th>Action</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of billDetails">
                  <td>{{user.FileUid}}</td>
                  <td>{{user.ClientName}}</td>
                  <td>
                    <a href="javascript:void(0)" (click)="EditCurrentDocument(user)">{{user.BillNo}}</a>
                  </td>
                  <!-- <td>{{user.Month}}</td> -->
                  <td>{{user.Status}}</td>
                  <td>{{user.PaidOn}}</td>
                  <td>{{user.GeneratedOn}}</td>
                  <td>{{user.BilledAmount | number}}</td>
                  <td>{{user.ReceivedAmount | number}}</td>
                  <td>{{user.SalaryAmount | number}}</td>
                  <td>{{user.GSTAmount | number}}</td>
                  <td>Pending</td>
                  <td>{{user.TDS | number}}</td>
                  <td>
                    <div class="d-flex flex-row justify-content-around">
                      <a href="javascript:void(0)">
                        <span class="badge bg-primary ms-1 me-1"><i class="fa fa-cogs" aria-hidden="true" (click)="UpdateCurrent(user.FileUid)"></i></span>
                      </a>
                      <a href="javascript:void(0)" (click)="AddEditDocuments(employee.Mobile)">
                        <span class="badge bg-dark">
                            <i class="fa fa-folder" aria-hidden="true"></i>
                        </span>
                      </a>
                      <a href="javascript:void(0)">
                        <span class="badge bg-success ms-1 me-1"><i class="fa fa-file-pdf-o" aria-hidden="true" (click)="viewPdfFile(user)"></i></span>
                      </a>
                    </div>
                  </td>
                </tr>
              </tbody>
            </table>
        </div>
        <div class="mt-3">
          <app-pagination [pagination]="singleEmployee" (onPageChange)="GetFilterResult($event)"></app-pagination>
        </div>


        <!-- <div class="x_content">
            <div class="col-md-12 row">
                <div class="col-md-4">
                    <div class="x_panel">
                        user detail
                    </div>
                </div>
                <div class="col-md 8">
                    <div class="x_panel row">
                        <div class="border border-info rounded text-center img_container"
                            *ngFor="let item of userFiles">
                            <div class="col-md-12">
                                <div>
                                    <img src="assets/img/pdf.png" class="employee_images" alt="user">
                                </div>
                                <div class="text-center action_container pt-1">
                                    <a href="javascript:void(0)" (click)="editFile(item.FileUid)">
                                        <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
                                    </a>
                                    <a href="javascript:void(0)">
                                        <i class="fa fa-eye" aria-hidden="true"></i>
                                    </a>
                                    <a href="javascript:void(0)" (click)="deleteFile(item.FileUid)">
                                        <i class="fa fa-trash" aria-hidden="true"></i>
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-12 text_size">
                                {{item.FileName}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div> -->
    </div>
  </ng-container>
</div>
<!-- add update detail modal -->
<div class="modal fade" id="addupdateModal" tabindex="-1">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title">Add Or Update</h5>
                <button type="button" class="close" (click)="closeWindow()" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body f-12">
                <div class="col-md-12">
                    <div [formGroup]="documentForm" class="col-md-12 popup-form">
                        <div class="col-md-12 row m-0">
                            <div class="col-6 form-group">
                                <label for="">File Status</label>
                                <select formControlName="StatusId" name="StatusId" class="form-control">
                                    <option value="0">File Status Type</option>
                                    <option value="1">Completed</option>
                                    <option value="2">Pending</option>
                                    <option value="3">Canceled</option>
                                    <option value="4">Not Generated</option>
                                    <option value="5">Rejected</option>
                                </select>
                            </div>
                            <div class="col-6 form-group">
                                <label for="">Updated On</label>
                                <form class="form-inline">
                                    <div class="form-group w-100">
                                        <!-- <div class="input-group w-100">
                                            <input class="form-control" placeholder="yyyy-mm-dd" name="dp"
                                                [(ngModel)]="model" (dateSelect)="onDateSelection($event)"
                                                ngbDatepicker #d="ngbDatepicker">
                                            <div class="input-group-append">
                                                <button class="btn btn-outline-secondary calendar"
                                                    (click)="d.toggle()" type="button"><i class="fa fa-calendar"
                                                        aria-hidden="true"></i>
                                                </button>
                                            </div>
                                        </div> -->
                                    </div>
                                </form>
                            </div>
                        </div>
                        <div class="col-md-12 row m-0">
                            <div class="form-group mt-4">
                                <label for="">Notes</label>
                                <textarea name="Notes" rows="3" formControlName="Notes"
                                    class="form-control"></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeWindow()">Close</button>

                <button class="btn btn-primary" [disabled]="isLoading" (click)="updateRecord()">
                    <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-check': !isLoading}"></i>
                    {{ isLoading ? 'Processing' : 'Submit' }}
                </button>
            </div>
        </div>
    </div>
</div>
