<div class="main-container">
  <div class="x_panel">
    <div class="col-12 row m-0 p-0 mb-4">
      <div class="x_header">
        <div class="d-flex justify-content-between mt-3">
          <div class="col-8">
            <div class="px-1">
              <app-breadcrums [title]="'Master Data'"></app-breadcrums>
            </div>
          </div>
          <div class="col-4 row align-items-center">


          </div>
        </div>
      </div>
    </div>
    <ng-container >
      <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
        <li [ngbNavItem]="1">
          <a ngbNavLink>Employee</a>
          <ng-template ngbNavContent>
            <div class="x_content">
              <div class="x_header_title">
                <div class="d-flex align-items-center justify-content-between">
                  <h5>Uploaded Records</h5>
                  <p *ngIf="!isAvailable" class="sample-note float-end"><i class="fa fa-dot-circle-o me-2"></i> Upload
                    correct format of excel sheet. <a href="javascript:void(0)">Click to download the sample.</a></p>
                </div>

                <div class="mt-4 border card p-5 uplod-message-container" *ngIf="!isAvailable">
                  <label for="" class="fw-bold">
                    Your uploaded file's converted tabal will be dispaly in this section.
                  </label>
                  <ul class="ms-5 mt-1">
                    <li class="mt-1">Table and excel header will be same.</li>
                    <li class="mt-1">On top of every header one dropdown will be there for column mapping.</li>
                    <li class="mt-1">Select dropdown to map your value with the application level header.</li>
                  </ul>
                  <button class="btn btn-primary-c" (click)="excelPopUp()">Upload Employee's Excel</button>
                </div>
              </div>
              <div *ngIf="isAvailable">
                <div class="overflow-scroll table-container">
                  <table class="table table-striped table-bordered table-hover">
                    <thead>
                      <tr>
                        <th class="col-min-width" *ngFor="let header of tableConfiguration.header">
                          <div class="mt-2">{{header.ColumnName}}</div>
                        </th>
                      </tr>
                    </thead>
                    <tbody>
                      <ng-container *ngFor="let data of tableConfiguration.data">
                        <tr>
                          <ng-container *ngFor="let header of tableConfiguration.header">
                            <td>
                              <div class="wrap-content">
                                {{data[header.ColumnName]}}
                              </div>
                            </td>
                          </ng-container>
                        </tr>
                      </ng-container>
                    </tbody>
                  </table>
                </div>
                <div class="mt-4 text-end">
                  <button type="button" class="btn btn-outline-danger me-2" (click)="cleanFileHandler()"
                    [disabled]="isDisable">
                    <i class="fa fa-eraser pe-2"></i> Cancel
                  </button>
                  <button type="button" class="btn btn-primary-c" (click)="uploadExcelSheet($event)" [disabled]="isDisable">
                    <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-upload': !isLoading}"></i>
                    <span class="ps-2">{{ isLoading ? 'Uploading ...' : 'Upload selected excel data' }}</span>
                  </button>
                </div>
              </div>
            </div>
          </ng-template>
        </li>
        <li [ngbNavItem]="2">
          <a ngbNavLink>Two</a>
          <ng-template ngbNavContent>
            <p>
              Exercitation +1 labore velit, blog sartorial PBR leggings next level wes anderson artisan four loko
              farm-to-table craft beer twee. Qui photo booth letterpress, commodo enim craft beer mlkshk aliquip jean shorts
              ullamco ad vinyl cillum PBR. Homo nostrud organic, assumenda labore aesthetic magna delectus mollit. Keytar
              helvetica VHS salvia yr, vero magna velit sapiente labore stumptown. Vegan fanny pack odio cillum wes anderson
              8-bit, sustainable jean shorts beard ut DIY ethical culpa terry richardson biodiesel. Art party scenester
              stumptown, tumblr butcher vero sint qui sapiente accusamus tattooed echo park.
            </p>
          </ng-template>
        </li>
        <li [ngbNavItem]="3">
          <a ngbNavLink>Three</a>
          <ng-template ngbNavContent>
            <p>
              Sed commodo, leo at suscipit dictum, quam est porttitor sapien, eget sodales nibh elit id diam. Nulla facilisi.
              Donec egestas ligula vitae odio interdum aliquet. Duis lectus turpis, luctus eget tincidunt eu, congue et odio.
              Duis pharetra et nisl at faucibus. Quisque luctus pulvinar arcu, et molestie lectus ultrices et. Sed diam urna,
              egestas ut ipsum vel, volutpat volutpat neque. Praesent fringilla tortor arcu. Vivamus faucibus nisl enim, nec
              tristique ipsum euismod facilisis. Morbi ut bibendum est, eu tincidunt odio. Orci varius natoque penatibus et
              magnis dis parturient montes, nascetur ridiculus mus. Mauris aliquet odio ac lorem aliquet ultricies in eget
              neque. Phasellus nec tortor vel tellus pulvinar feugiat.
            </p>
          </ng-template>
        </li>
      </ul>

      <div [ngbNavOutlet]="nav" class="mt-2"></div>
    </ng-container>
  </div>
</div>


<!-- Active and Deactive  Model -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="excelSheetReaderModal" tabindex="-1" role="dialog" aria-labelledby="deleteTitleTitle" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <h4 class="modal-title">Upload ExcelFile</h4>
        <button type="button" (click)="cleanFileHandler()" class="btn-close" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body row overflow-hidden">
        <div class="col-md-12 x_content fade show">
          <div class="">
            <input type="file" id="uploadexcelreader" (change)="readExcelData($event)" class="d-none" *ngIf="isUploadFile"
              accept=".xlx, .xlsx" />
            <div class="page-card">
              <div class="card">
                <div class="col-md-12 p-0">
                  <div class="table-responsive">
                    <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                      <div role="tabpanel" class="active in mt-4 ps-4 pe-4" id="tab_content1"
                        aria-labelledby="home-tab">
                        <div id="classmasterdata" class="col-md-12">
                          <div name="ifilezone" class="ifilezone mb-4" (click)="excelfireBrowserFile()">
                            <div class="col-md-12 py-5 custom-bg justify-content-center" *ngIf="isFileReady"
                              name="uploading">
                              <img src="assets/img/ExcelFile.png" />
                              <div class="filetitle">
                                File:
                                <div name="filename" style="display: inline-block !important;">
                                  {{ fileName }}
                                </div>
                              </div>
                              <div>
                                File size: &nbsp;
                                <div name="filesize" style="display: inline-block !important;">
                                  {{ fileSize }}
                                </div>
                                KB
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="col-md-12 mt-3 solid-bg pt-2 ps-3 pb-3 rounded">
            <div class="filetitle text-center">Upload File Details</div>
            <div *ngIf="isFileReady">
              <div class="fw-bold">
                File:
                <div name="filename" style="display: inline-block !important;">
                  {{ fileName }}
                </div>
              </div>
              <div>
                <div>
                  File size: &nbsp;
                  <div name="filesize" style="display: inline-block !important;">
                    {{ fileSize }}
                  </div>
                  KB
                </div>
                <div>
                  No. of record(s): &nbsp;
                  <div name="noofrecords" style="display: inline-block !important;">
                    {{tableConfiguration.data.length}}
                  </div>
                </div>
                <div>
                  File type: &nbsp;
                  <div name="uploadingdatetime" style="display: inline-block !important;">
                    {{ file.type }}
                  </div>
                </div>
              </div>
            </div>
            <div *ngIf="!isFileReady">
              <div class="fw-bold">
                File: NA
              </div>
              <div>
                <div>
                  File size: &nbsp; NA
                </div>
                <div>
                  No. of record(s): &nbsp; NA
                </div>
                <div>
                  File type: &nbsp; NA
                </div>
              </div>
            </div>
            <div class="mt-4">
              <!-- <button type="button" class="btn btn-primary-c" (click)="uploadExcelSheet($event)" [disabled]="isDisable">
                <i class="fa" [ngClass]="{'fa-spin fa-spinner': isLoading, 'fa-upload': !isLoading}"></i>
                <span class="ps-2">{{ isLoading ? 'Uploading ...' : 'Upload selected excel data' }}</span>
              </button> -->
              <button type="button" class="btn btn-primary-c" (click)="uploadExcel()" [disabled]="isDisable">
                <i class="fa fa-upload"></i>
                <span class="ps-2">Upload selected excel data</span>
              </button>
              <button type="button" class="btn btn-outline-info ms-2" (click)="cleanFileHandler()"
                [disabled]="isDisable">
                <i class="fa fa-eraser pe-2"></i> Cancel
              </button>
            </div>
          </div>
        </div>
        <!-- <div class="col-md-8 pb-4 overflow-hidden">
          <div class="x_content">
            <div class="x_header_title">
              <div>
                <h5 class="d-inline">Uploaded Records</h5>
                <p *ngIf="!isAvailable" class="sample-note float-end"><i class="fa fa-dot-circle-o me-2"></i> Upload
                  correct format of excel sheet. <a href="javascript:void(0)">Click to download the sample.</a></p>
                <span *ngIf="isAvailable" class="d-inline">
                  <a class="float-end" href="javascript:void(0)" (click)="expandTable()">
                    <i class="fa fa-expand"></i>
                  </a>
                </span>
              </div>

              <div class="mt-4 border card p-5 uplod-message-container" *ngIf="!isAvailable">
                <label for="" class="fw-bold">
                  Your uploaded file's converted tabal will be dispaly in this section.
                </label>
                <ul class="ms-5 mt-1">
                  <li class="mt-1">Table and excel header will be same.</li>
                  <li class="mt-1">On top of every header one dropdown will be there for column mapping.</li>
                  <li class="mt-1">Select dropdown to map your value with the application level header.</li>
                </ul>
              </div>
            </div>
            <div *ngIf="isAvailable">
              <div class="uploada-data-scroll">
                <table class="table table-striped table-bordered table-hover">
                  <thead>
                    <tr>
                      <th class="col-min-width" *ngFor="let header of tableConfiguration.header">
                        <div class="mt-2">{{header.ColumnName}}</div>
                      </th>
                    </tr>
                  </thead>
                  <tbody>
                    <ng-container *ngFor="let data of tableConfiguration.data">
                      <tr>
                        <ng-container *ngFor="let header of tableConfiguration.header">
                          <td>
                            <div class="wrap-content">
                              {{data[header.ColumnName]}}
                            </div>
                          </td>
                        </ng-container>
                      </tr>
                    </ng-container>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div> -->
      </div>
      <!-- <div class="modal-body" *ngIf="!expandedTable">
        <div class="col-md-12 p-0">
          <div class="x_content">
            <div class="x_header_title overflow-hidden">
              <h5 class="d-inline">Uploaded Records</h5>
              <button type="button" class="btn-close float-end" (click)="closeExpandModel()"></button>
            </div>
            <div *ngIf="isAvailable" class="expand-modal-scroll">
              <table class="table table-striped table-bordered table-hover">
                <thead>
                  <tr>
                    <th class="col-min-width" *ngFor="let header of tableConfiguration.header">
                      <div class="mt-2">{{header.ColumnName}}</div>
                    </th>
                  </tr>
                </thead>
                <tbody>
                  <ng-container *ngFor="let data of tableConfiguration.data">
                    <tr>
                      <ng-container *ngFor="let header of tableConfiguration.header">
                        <td>
                          <div class="wrap-content">
                            {{data[header.ColumnName]}}
                          </div>
                        </td>
                      </ng-container>
                    </tr>
                  </ng-container>
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div> -->

    </div>
  </div>
</div>
