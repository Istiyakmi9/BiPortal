<div class="col-12 full-v main-container">
  <div class="col-md-12 bg-light mb-3 d-flex align-items-center">
    <ul class="nav col-md-9">
      <li class="nav-item">
        <a class="nav-link text-dark nav-active" id="attendance-tab" (click)="activateMe('declaration-tab')"
          aria-current="page" href="javascript:void(0)">DECLARATION</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" id="timesheet-tab" (click)="activateMe('salary-tab')"
          href="javascript:void(0)">SALARY</a>
      </li>
      <li class="nav-item">
        <a class="nav-link text-dark" id="leave-tab" (click)="activateMe('preference-tab')"
          href="javascript:void(0)">PREFERENCE</a>
      </li>
    </ul>
  </div>
  <div class="content-header">
    <div class="col-8">
      <div class="px-1">
        <app-breadcrums [title]="'Employee declaration'" [subtitle]="'Add or update details'"></app-breadcrums>
      </div>
    </div>
    <div class="col-4 text-end">
      <h5 class="pe-2 text-dark">{{employeeName}}</h5>
    </div>
  </div>
  <div class="col-12 x_panel p-0 m-0">
    <div [ngClass]="{'blur-section': !SectionIsReady}">
      <div class="blur-section__highlight" [ngClass]="{'d-none': SectionIsReady}">
        <div class="blur-section__content">
          {{isEmployeeSelect? 'Please wait......': 'Please select Employee first'}}
        </div>
      </div>
      <div class="blur-this">
        <div class="right-panel col-md-12 p-0">
          <div class="col-md-12 bg-light mb-3 mt-3">
            <ul class="nav">
              <li class="nav-item">
                <a class="nav-link new-nav-link text-dark new-nav-active" id="attendance-tab"
                  (click)="activeTab('declaration-tab')" aria-current="page" href="javascript:void(0)">Declaration</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark" id="timesheet-tab" (click)="activeTab('previous-income-tab')"
                  href="javascript:void(0)">Previous Income</a>
              </li>
              <li class="nav-item">
                <a class="nav-link text-dark" id="leave-tab" (click)="activeTab('form-12-tab')"
                  href="javascript:void(0)">Form 12 BB</a>
              </li>
            </ul>
          </div>
          <ng-container>
            <div class="container-fluid pt-4">
              <div class="d-flex justify-content-between">
                <h5 class="text-dark">Declaration</h5>
                <div class="pt-3 pe-3" *ngIf="employeeDeclaration != null">
                  <select class="form-select" disabled>
                    <option value="currentyear" selected disabled>APR {{employeeDeclaration.DeclarationFromYear}} - MAR {{employeeDeclaration.DeclarationFromYear +1}}</option>
                  </select>
                </div>
              </div>
              <div class="card my-3">
                <div class="d-flex text-dark fs-4 pt-3 align-items-center ps-3">
                  <i class=" fa-regular fa-lightbulb"></i>
                  <h5 class="mb-0 ps-3">Important</h5>
                </div>
                <ul class="ps-5 ms-3">
                  <li class="pt-3">
                    <p class="mb-0">
                      Your Income and tax liability computed as per {{employeeDeclaration.EmployeeCurrentRegime == 1 ? 'Old income tax' : 'New income tax'}} regime. To learn more, and switch to {{employeeDeclaration.EmployeeCurrentRegime == 2 ? 'Old income tax' : 'New income tax'}} regime,
                      <span><a href="javascript:void(0)" (click)="newIncomeTaxRegimePopUp()" class="text-decoration-none text-primary fw-bold">click here.</a></span>
                    </p>
                  </li>
                  <li class="pt-3">'$' - Not considered for exemption if opted <form action="" method="post"></form> New tax regime (Section 115BAC).</li>
                  <li class="pt-3">You can declare your investment amount till <span class="fw-bold">20th of every
                      month</span> until the cutoff date of <span class="fw-bold">{{currentMonth}} 20, {{year}}</span></li>
                  <li class="pt-3">Last date for submitting your investment proofs is <span class="fw-bold">Dec 20, {{employeeDeclaration.DeclarationFromYear}}</span></li>
                </ul>
                <div class="alert alert-warning mx-5">
                  Not submitting your investment proofs may lead to additional tax being deducted in the subsequent
                  months of this fiscal year.
                </div>
                <div class="alert alert-danger mx-5 text-dark fw-bold" *ngIf="employeeDeclaration.DefaultSlaryGroupMessage != null && employeeDeclaration.DefaultSlaryGroupMessage != ''">
                  {{this.employeeDeclaration.DefaultSlaryGroupMessage}}
                </div>
              </div>
              <div class="col-md-12 row my-4" [ngClass]="{'d-none': !SectionIsReady}">
                <div class="col-md-5">
                  <div class="card py-3 ps-3">
                    <p class="mb-0">Net Taxable Income</p>
                    <p class="text-dark fs-2 mb-0 ">
                      <span>INR {{employeeDeclaration.EmployeeCurrentRegime == 1 ? (employeeDeclaration.TotalAmount | number : '1.0-0') : (employeeDeclaration.TotalAmountOnNewRegim | number : '1.2-2')}}</span>
                      <span class="float-end pe-2">
                        <a href="javascript:void(0)" (click)="gotoTaxSection()" class="text-decoration-none fs-6">
                          Income Tax Computitation
                        </a>
                      </span>
                    </p>
                  </div>
                </div>
                <div class="col-md-4">
                  <div class="card py-3 ps-3">
                    <p class="mb-0">Total Tax Payable <i class="fa-solid fa-circle-exclamation float-end fa-lg pe-3"
                        data-bs-placement="right" data-toggle="tooltip"
                        title="Net tax amount of after round Off is"></i></p>
                    <p class="text-dark fs-2 mb-0">INR {{employeeDeclaration.EmployeeCurrentRegime == 1 ? (employeeDeclaration.TaxNeedToPay | number : '1.0-0') : (employeeDeclaration.TaxNeedToPayOnNewRegim | number : '1.2-2')}}</p>
                  </div>
                </div>
                <div class="col-md-3">
                  <div class="card py-3 ps-3">
                    <p class="mb-0">Tax Already Paid</p>
                    <p class="text-dark fs-2 mb-0 vhide">INR {{employeeDeclaration.TaxPaid | number : '1.0-0'}}</p>
                  </div>
                </div>
              </div>

              <!-- <ng-container *ngIf="!SectionIsReady">
                <app-pre-load-table></app-pre-load-table>
              </ng-container> -->
              <div *ngIf="SectionIsReady" [ngClass]="{'d-none': !SectionIsReady}">
                <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
                  <li [ngbNavItem]="1">
                    <a ngbNavLink class="custom-text-color">My Declaration</a>
                    <ng-template ngbNavContent>
                      <ng-container>
                        <div class="row align-items-center justify-content-between">
                          <div class="col-auto">
                            <h5 class="text-dark pt-3">My Declarations</h5>
                            <p class="mb-0 pb-2">Below are the declarations done by you under various sections.</p>
                          </div>
                        </div>
                        <div class="t-table t-list  col-md-12 my-3">
                          <div class="t-head bg-light">
                            <div class="tr">
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  DECLARATIONS
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  # OF DECLARATIONS
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  DECLARED AMOUNT
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  PROOF SUBMITTED
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  AMOUNT REJECTED
                                </div>
                              </div>
                              <div class="th fe-2">
                                <div class="cell-wrapper">
                                  AMOUNT ACCEPTED
                                </div>
                              </div>
                              <!-- <div class="th fe-1">
                                <div class="cell-wrapper">
                                  ACTION
                                </div>
                              </div> -->
                            </div>
                          </div>
                          <div class="t-body">
                            <ng-container
                              *ngIf="employeeDeclaration.Declarations != null && employeeDeclaration.Declarations.length > 0">
                              <div class="tr py-3" *ngFor="let declaration of employeeDeclaration.Declarations; let i = index;">
                                <div class="td align-middle fe-3">
                                  <div class="cell-wrapper">
                                    <a href="javascript:void(0)" class="text-muted" (click)="navDeclarationTab(i+2)">
                                      {{declaration.DeclarationName}}
                                    </a>
                                  </div>
                                </div>
                                <div class="td align-middle fe-3">
                                  <ng-container *ngIf="declaration.DeclarationName == 'HRA'">
                                    <ng-container *ngIf="declaration.TotalAmountDeclared > 0">
                                      <div class="cell-wrapper">
                                        1
                                      </div>
                                    </ng-container>
                                    <ng-container *ngIf="declaration.TotalAmountDeclared <= 0">
                                      <div class="cell-wrapper">
                                        0
                                      </div>
                                    </ng-container>
                                  </ng-container>
                                  <ng-container *ngIf="declaration.DeclarationName != 'HRA'">
                                    <div class="cell-wrapper">
                                      {{declaration.Declarations.length}}
                                    </div>
                                  </ng-container>
                                </div>
                                <div class="td align-middle fe-2">
                                  <div class="cell-wrapper d-flex align-items-baseline">
                                    <i class="fa-solid fa-indian-rupee-sign pe-2" aria-hidden="true"></i>
                                    <input type="text" readonly class="w-50 ps-2 border-0 bg-transparent"
                                      [attr.value]="declaration.TotalAmountDeclared">
                                  </div>
                                </div>
                                <div class="td align-middle fe-2">
                                  <div class="cell-wrapper">
                                    {{declaration.NumberOfProofSubmitted}}
                                  </div>
                                </div>
                                <div class="td align-middle fe-2">
                                  <div class="cell-wrapper d-flex align-items-baseline">
                                    <i class="fa-solid fa-indian-rupee-sign pe-2" aria-hidden="true"></i>
                                    <input type="text" class="w-50 ps-2 border-0 bg-transparent"
                                      [attr.value]="declaration.RejectedAmount">
                                  </div>
                                </div>
                                <div class="td align-middle fe-2">
                                  <div class="cell-wrapper d-flex align-items-baseline">
                                    <i class="fa-solid fa-indian-rupee-sign pe-2" aria-hidden="true"></i>
                                    <input type="text" class="w-50 ps-2 border-0 bg-transparent"
                                      [attr.value]="declaration.AcceptedAmount">
                                  </div>
                                </div>
                                <!-- <div class="td align-middle fe-1">
                                  <a class="cell-wrapper d-flex primary-text align-items-baseline">
                                    <i class="fa-regular fa-floppy-disk" aria-hidden="true"></i>
                                    <span class="ps-2">Save</span>
                                  </a>
                                </div> -->
                              </div>
                            </ng-container>

                            <ng-container
                              *ngIf="employeeDeclaration.Declarations == null || employeeDeclaration.Declarations.length == 0">
                              <div class="p-5 m-5 d-flex flex-column justify-content-center text-center fs-5">
                                Unable to get declaration detail. Please contact to admin.
                              </div>
                            </ng-container>

                          </div>
                        </div>
                        <div class="py-3">
                          <h5 class="text-dark ps-2 pb-0 mb-0">Monthly Tax Deductions Details</h5>
                          <p class="mb-0 ps-2">Below deduction are based on your declared amount. Tax amount may change
                            based
                            on th amount approved.</p>
                        </div>
                        <div class="col-md-12 row mb-4">
                          <div class="col-md-4">
                            <div class="card py-3 ps-3">
                              <p class="mb-0">TOTAL TAX PAYABLE</p>
                              <p class="text-dark fs-2 mb-0">INR {{employeeDeclaration.EmployeeCurrentRegime == 1 ? (employeeDeclaration.TaxNeedToPay | number : '1.2-2') : (employeeDeclaration.TaxNeedToPayOnNewRegim | number : '1.2-2')}}</p>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="card py-3 ps-3">
                              <p class="mb-0">TAX PAID TILL NOW</p>
                              <p class="text-dark fs-2 mb-0">INR {{employeeDeclaration.TaxPaid| number : '1.2-2'}}</p>
                            </div>
                          </div>
                          <div class="col-md-4">
                            <div class="card py-3 ps-3">
                              <p class="mb-0">REMAINING TAX AMOUNT</p>
                              <p class="text-dark fs-2 mb-0" *ngIf="employeeDeclaration.EmployeeCurrentRegime == 1">INR {{employeeDeclaration.TaxNeedToPay - employeeDeclaration.TaxPaid | number : '1.2-2'}}</p>
                              <p class="text-dark fs-2 mb-0" *ngIf="employeeDeclaration.EmployeeCurrentRegime != 1">INR {{employeeDeclaration.TaxNeedToPayOnNewRegim - employeeDeclaration.TaxPaid | number : '1.2-2'}}</p>
                            </div>
                          </div>
                        </div>
                        <div class="t-table t-list  mb-3 col-md-12 bg-white">
                          <div class="t-head overflow-hidden custom-bg">
                            <div class="tr bg-light py-3">
                              <div class="th ps-2 fe-2">Month</div>
                              <div class="th" *ngFor="let item of taxCalender">
                                <div class="d-flex align-items-center">
                                  <span>{{item.month}} {{item.year}}</span>
                                  <div class="ms-1 indicator" [ngClass]="{
                                    'previous-employer-indicator': item.type == 0,
                                    'curent-employer-indicator': item.type == 1,
                                    'project-salary-indicator': item.type == 2}">
                                  </div>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="t-body border-bottom overflow-hidden">
                            <div class="tr py-3">
                              <div class="td px-2 fe-2">Monthly Total Tax</div>
                              <ng-container *ngFor="let item of TaxDetails">
                                <div class="td ps-1">{{item.TaxDeducted| number:'1.2-2'}}</div>
                              </ng-container>
                            </div>
                          </div>
                          <div class="ps-2 py-3 row">
                            <div class="col d-flex align-items-center">
                              <div class="previous-employer-indicator indicator"></div>
                              <p class="p-0 m-0 ps-2">Tax Deduction from previous employer</p>
                            </div>
                            <div class="col d-flex align-items-center">
                              <div class="curent-employer-indicator indicator"></div>
                              <p class="p-0 m-0 ps-2">Imported Tax Deduction from current employer</p>
                            </div>
                            <div class="col d-flex align-items-center">
                              <div class="project-salary-indicator indicator"></div>
                              <p class="p-0 m-0 ps-2">Projected Income Tax</p>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </ng-template>
                  </li>

                  <li [ngbNavItem]="2">
                    <a ngbNavLink class="custom-text-color">1.5 Lac Exemptions</a>
                    <ng-template ngbNavContent>
                      <ng-container>
                        <div class="row justify-content-between my-3">
                          <div class="col-md-8">
                            <h5 class="ps-3">1.5 Lac Exemptions</h5>
                            <p class=" ps-3">
                              The aggregate amount of deductions under section 80C, section 80CCC and sub-section (1) of
                              80CCD
                            </p>
                          </div>
                          <div class="col-md-3">
                            <label  class="form-label">Search perform on section and deduction name.</label>
                            <div class="form-group has-search">
                              <span class="fa-solid fa-magnifying-glass form-control-feedback"></span>
                              <input type="text" class="form-control" [(ngModel)]="filterValue"
                                oninput="this.value = this.value.toUpperCase()" placeholder="Search"
                                (keyup.enter)="filterDeduction($event, '1.5lac')" (keyup.esc)="resetFilter($event)">
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12 row pb-4 ps-3">
                          <div class="col-auto me-2">
                            <label  class="form-label pe-2 mb-0">MAX LIMIT</label>
                            <h6 class="text-dark">INR 150000</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT DECLARED</label>
                            <h6 class="text-dark">{{employeeDeclaration.Declarations[0].TotalAmountDeclared}}</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AUTO APPROVED AMOUNT</label>
                            <h6 class="text-dark">INR 150000</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT ACCEPTED</label>
                            <h6 class="text-dark">INR 21600</h6>
                          </div>
                          <div class="col-auto ms-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT REJECTED</label>
                            <h6 class="text-dark">INR 0</h6>
                          </div>
                        </div>
                        <div class="t-table t-list  col-md-12">
                          <div class="t-head">
                            <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">SECTION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DEDUCTION NAME</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DECLARATION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">PROOF</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">STATUS</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1 text-center">ACTIONS</div>
                            </div>
                          </div>
                          <div class="t-body m-vh-100" *ngIf="SectionIsReady">
                            <ng-container *ngFor="let r of ExemptionDeclaration; let i=index">
                              <div class="tr py-2" name="table-row"
                                [ngClass]="{'activated-row fw-bold text-dark': r.DeclaredValue != 0}">
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    {{r.Section}} <sup>$</sup>
                                  </div>
                                </div>
                                <div class="td align-middle fe-3">
                                  <div class="cell-wrapper">
                                    {{r.ComponentId}} ({{r.ComponentFullName}}) <a href="javascript:void(0)"
                                      class="text-decoration-none"><i
                                        class="fa-solid fa-circle-question-circle ps-3 text-secondary text-justify"
                                        data-bs-toggle="tooltip" data-bs-placement="right"
                                        title='{{r.ComponentDescription}}'></i></a>
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper" name="view-control">
                                    <span *ngIf="r.DeclaredValue != 0">&#8377; {{r.DeclaredValue |
                                      number:'':'en'}}</span>
                                    <span *ngIf="r.DeclaredValue == 0">Not Declared</span>
                                  </div>
                                  <div class="cell-wrapper d-flex flex-row justify-content-start d-none"
                                    name="edit-control">
                                    <span class="pe-2 d-flex flex-column justify-content-center">
                                      <i class="fa-solid fa-indian-rupee-sign"></i>
                                    </span>
                                    <input [value]="r.DeclaredValue" class="form-control" DecimalNumber="9">
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    <div *ngIf="r.UploadedFileIds != null && r.UploadedFileIds != '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <div class="d-flex align-items-center">
                                          <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                          <span class="ps-2">Uploaded</span>
                                        </div>
                                      </a>
                                    </div>
                                    <div *ngIf="r.UploadedFileIds == null || r.UploadedFileIds == '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <i class="fa-solid fa-paperclip pe-2"></i>Not Upload
                                      </a>
                                    </div>
                                  </div>
                                </div>
                                <div class="td align-middle">
                                  <div class="cell-wrapper">
                                    <div class="d-flex align-items-center">
                                      <ng-container *ngIf="r.ComponentId == 'EPF' || r.ComponentId == 'VPF'">
                                        <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                        <span class="ps-2 fw-bold text-dark">Auto Accepted</span>
                                      </ng-container>
                                      <ng-container *ngIf="r.DeclaredValue > 0 && (r.ComponentId != 'EPF' || r.ComponentId != 'VPF')">
                                        <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                        <span class="ps-2">Submitted</span>
                                      </ng-container>
                                    </div>
                                    <span *ngIf="r.DeclaredValue <= 0 && (r.ComponentId != 'EPF' && r.ComponentId != 'VPF')">Not Submitted</span>
                                  </div>
                                </div>
                                <div class="td text-center fe-1" *ngIf="r.ComponentId != 'EPF' && r.ComponentId != 'VPF'">
                                  <a href="javascript:void(0)" (click)="editDeclaration(r)">
                                    <i class="fa-solid fa-pencil text-muted ps-3" name="edit-declaration" placement="top"
                                      ngbTooltip="Edit Declaration"></i>
                                  </a>
                                </div>
                                <div class="td text-center fe-1" *ngIf="r.ComponentId == 'EPF' || r.ComponentId == 'VPF'">
                                </div>
                              </div>
                            </ng-container>
                          </div>

                          <div class="t-body fs-5 text-center p-5 m-5" *ngIf="!SectionIsReady">
                            Unable to load the declaration.
                            Please contact to admin.
                          </div>
                        </div>
                        <div class="modal-footer border-top-0">
                          <button type="button" class="btn btn-outline-success"
                            (click)="nextDeclaration('otherExemptions')"> <span class="pe-2">{{isLoading ? 'Wait': 'Next'}}</span>
                            <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-solid fa-arrow-right': !isLoading}"></i>
                          </button>
                        </div>
                      </ng-container>
                    </ng-template>
                  </li>

                  <li [ngbNavItem]="3">
                    <a ngbNavLink class="custom-text-color">Other Exemptions</a>
                    <ng-template ngbNavContent>
                      <ng-container>
                        <div class="row justify-content-between mt-3">
                          <div class="col-md-8">
                            <h5 class="ps-3">Other Exemptions</h5>
                            <p class=" ps-3">Other deductions under chapter VI(A) which is from 80CCD1(B) to 80U</p>
                          </div>
                          <div class="col-md-3">
                            <label  class="form-label">Search perform on section and deduction name.</label>
                            <div class="form-group has-search">
                              <span class="fa-solid fa-magnifying-glass form-control-feedback"></span>
                              <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                                placeholder="Search" (keyup.enter)="filterDeduction($event, 'other')"
                                (keyup.esc)="resetFilter($event)">
                            </div>
                          </div>
                        </div>
                        <div class="col-md-12 row pb-4 ps-3">
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT DECLARED</label>
                            <h6 class="text-dark">INR {{employeeDeclaration.Declarations[1].TotalAmountDeclared | number}}</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AUTO APPROVED AMOUNT</label>
                            <h6 class="text-dark">INR {{employeeDeclaration.Declarations[1].TotalAmountDeclared }}</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT ACCEPTED</label>
                            <h6 class="text-dark">INR 0</h6>
                          </div>
                          <div class="col-auto ms-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT REJECTED</label>
                            <h6 class="text-dark">INR 0</h6>
                          </div>
                        </div>
                        <div class="t-table t-list  col-md-12">
                          <div class="t-head">
                            <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">SECTION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DEDUCTION NAME</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">MAX LIMIT</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DECLARATION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">PROOF</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">STATUS</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">ACTIONS</div>
                            </div>
                          </div>
                          <div class="t-body m-vh-100" *ngIf="SectionIsReady">
                            <ng-container *ngFor="let r of OtherDeclaration; let i=index">
                              <div class="tr py-2" name="table-row"
                                [ngClass]="{'activated-row fw-bold text-dark': r.DeclaredValue != 0}">
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    {{r.Section}} <sup>$</sup>
                                  </div>
                                </div>
                                <div class="td align-middle fe-3">
                                  <div class="cell-wrapper">
                                    {{r.ComponentId}} ({{r.ComponentFullName}}) <a href="javascript:void(0)"
                                      class="text-decoration-none"><i
                                        class="fa-solid fa-circle-question-circle ps-3 text-secondary text-justify"
                                        data-bs-toggle="tooltip" data-bs-placement="right"
                                        title='{{r.ComponentDescription}}'></i></a>
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    <span *ngIf="r.MaxLimit > 0">
                                      <i class="fa-solid fa-indian-rupee-sign pe-2"></i> {{r.MaxLimit | number:'':'en'}}
                                    </span>
                                    <span *ngIf="r.MaxLimit <= 0">
                                      No Limit
                                    </span>
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper" name="view-control">
                                    <span *ngIf="r.DeclaredValue != 0">&#8377; {{r.DeclaredValue |
                                      number:'':'en'}}</span>
                                    <span *ngIf="r.DeclaredValue == 0">Not Declared</span>
                                  </div>
                                  <div class="cell-wrapper d-flex flex-row justify-content-start d-none"
                                    name="edit-control">
                                    <span class="pe-2 d-flex flex-column justify-content-center">
                                      <i class="fa-solid fa-indian-rupee-sign"></i>
                                    </span>
                                    <input [value]="r.DeclaredValue" class="form-control" DecimalNumber="9">
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    <div *ngIf="r.UploadedFileIds != null && r.UploadedFileIds != '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <div class="d-flex align-items-center">
                                          <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                          <span class="ps-2">Uploaded</span>
                                        </div>
                                      </a>
                                    </div>
                                    <div *ngIf="r.UploadedFileIds == null || r.UploadedFileIds == '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <i class="fa-solid fa-paperclip pe-2"></i>Not Upload
                                      </a>
                                    </div>
                                  </div>
                                </div>
                                <div class="td align-middle">
                                  <div class="cell-wrapper">
                                    <div class="d-flex align-items-center">
                                      <!-- <ng-container *ngIf="r.Status != 2">
                                        <div class="circle">
                                          <div class="checkmark">
                                          </div>
                                        </div>
                                        <span class="ps-3">Auto Accepted</span>
                                      </ng-container> -->
                                      <ng-container *ngIf="r.DeclaredValue > 0">
                                        <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                        <span class="ps-2">Submitted</span>
                                      </ng-container>
                                    </div>
                                    <span *ngIf="r.DeclaredValue <= 0">Not Submitted</span>
                                  </div>
                                </div>
                                <div class="td text-center fe-1">
                                  <a href="javascript:void(0)" (click)="editDeclaration(r)">
                                    <i class="fa-solid fa-pencil text-muted ps-3" name="edit-declaration" placement="top"
                                      ngbTooltip="Edit Declaration"></i>
                                  </a>
                                </div>
                              </div>
                            </ng-container>
                          </div>

                          <div class="t-body fs-5 text-center p-5 m-5" *ngIf="!SectionIsReady">
                            Unable to load other Exemptions.
                            Please contact to admin.
                          </div>
                        </div>
                        <div class="modal-footer border-top-0">
                          <button type="button" class="btn btn-outline-primary" (click)="nextDeclaration('exemptions')">
                            <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-solid fa-arrow-left': !isLoading}"></i>
                            <span class="ps-2">{{isLoading ? 'Wait': 'Prev'}}</span>
                          </button>
                          <button type="button" class="btn btn-outline-success" (click)="nextDeclaration('taxSavingAllowance')"><span class="pe-2">{{isLoading ? 'Wait': 'Next'}}</span>
                            <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-solid fa-arrow-right': !isLoading}"></i>
                          </button>
                        </div>
                      </ng-container>
                    </ng-template>
                  </li>

                  <li [ngbNavItem]="4">
                    <a ngbNavLink class="custom-text-color">Tax Saving Allowances</a>
                    <ng-template ngbNavContent>
                      <ng-container>
                        <div class="row justify-content-between mt-3 mb-2">
                          <div class="col-md-8">
                            <h5 class="ps-3">Tax Saving Allowances</h5>
                            <p class=" ps-3">Following allowances are exempted from Gross for Income tax calculation
                              only
                              when
                              claim is submitted against allowances.</p>
                          </div>
                          <div class="col-md-3">
                            <label  class="form-label">Search perform on section and deduction name.</label>
                            <div class="form-group has-search">
                              <span class="fa-solid fa-magnifying-glass form-control-feedback"></span>
                              <input type="text" class="form-control" oninput="this.value = this.value.toUpperCase()"
                                placeholder="Search" (keyup.enter)="filterDeduction($event, 'taxsaving')"
                                (keyup.esc)="resetFilter($event)">
                            </div>
                          </div>
                        </div>
                        <div class="alert alert-warning mx-4" role="alert">
                          Tax exempted values are based on the amount allocated in your salary structure. Please check
                          income
                          tax calculation to view tax exempted amount.
                        </div>
                        <div class="col-md-12 row pb-4 ps-3 pt-2">
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT DECLARED</label>
                            <h6 class="text-dark">INR {{employeeDeclaration.Declarations[2].TotalAmountDeclared}}</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AUTO APPROVED AMOUNT</label>
                            <h6 class="text-dark">INR {{employeeDeclaration.Declarations[2].TotalAmountDeclared}}</h6>
                          </div>
                          <div class="col-auto mx-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT ACCEPTED</label>
                            <h6 class="text-dark">INR 0</h6>
                          </div>
                          <div class="col-auto ms-3">
                            <label  class="form-label pe-2 mb-0">AMOUNT REJECTED</label>
                            <h6 class="text-dark">INR 0</h6>
                          </div>
                        </div>
                        <div class="t-table t-list  col-md-12">
                          <div class="t-head">
                            <div class="tr">
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">SECTION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-3">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DEDUCTION NAME</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">MAX LIMIT</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">DECLARATION</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">PROOF</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">
                                <div class="cell-wrapper">
                                  <div class="t-filter">
                                    <a href="javascript:void()">STATUS</a>
                                  </div>
                                </div>
                              </div>
                              <div class="th fe-1">ACTIONS</div>
                            </div>
                          </div>
                          <div class="t-body m-vh-100" *ngIf="SectionIsReady">
                            <ng-container *ngFor="let r of TaxSavingAlloance; let i=index">
                              <div class="tr py-2" name="table-row"
                                [ngClass]="{'activated-row fw-bold text-dark': r.DeclaredValue != 0}">
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    {{r.Section}} <sup>$</sup>
                                  </div>
                                </div>
                                <div class="td align-middle fe-3">
                                  <div class="cell-wrapper">
                                    {{r.ComponentId}} ({{r.ComponentFullName}}) <a href="javascript:void(0)"
                                      class="text-decoration-none"><i
                                        class="fa-solid fa-circle-question-circle ps-3 text-secondary text-justify"
                                        data-bs-toggle="tooltip" data-bs-placement="right"
                                        title='{{r.ComponentDescription}}'></i></a>
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    <i class="fa-solid fa-indian-rupee-sign pe-2"></i> {{r.MaxLimit | number:'':'en'}}
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper" name="view-control">
                                    <span *ngIf="r.DeclaredValue != 0">&#8377; {{r.DeclaredValue |
                                      number:'':'en'}}</span>
                                    <span *ngIf="r.DeclaredValue == 0">Not Declared</span>
                                  </div>
                                  <div class="cell-wrapper d-flex flex-row justify-content-start d-none"
                                    name="edit-control">
                                    <span class="pe-2 d-flex flex-column justify-content-center">
                                      <i class="fa-solid fa-indian-rupee-sign"></i>
                                    </span>
                                    <input [value]="r.DeclaredValue" class="form-control">
                                  </div>
                                </div>
                                <div class="td align-middle fe-1">
                                  <div class="cell-wrapper">
                                    <div *ngIf="r.UploadedFileIds != null && r.UploadedFileIds != '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <div class="d-flex align-items-center">
                                          <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                          <span class="ps-2">Uploaded</span>
                                        </div>
                                      </a>
                                    </div>
                                    <div *ngIf="r.UploadedFileIds == null || r.UploadedFileIds == '[]'">
                                      <a href="javascript:void(0)" name="upload-proof"
                                        class="text-muted pe-none text-decoration-none">
                                        <i class="fa-solid fa-paperclip pe-2"></i><span>Not Upload</span>
                                      </a>
                                    </div>
                                  </div>
                                </div>
                                <div class="td align-middle">
                                  <div class="cell-wrapper">
                                    <div class="d-flex align-items-center">
                                      <ng-container *ngIf="r.DeclaredValue > 0">
                                        <i class="fa-solid fa-check-circle fa-lg text-success"></i>
                                        <span class="ps-2">Submitted</span>
                                      </ng-container>
                                    </div>
                                    <span *ngIf="r.DeclaredValue <= 0">Not Submitted</span>
                                  </div>
                                </div>
                                <div class="td text-center fe-1">
                                  <a href="javascript:void(0)" (click)="editDeclaration(r)">
                                    <i class="fa-solid fa-pencil text-muted ps-3" name="edit-declaration" placement="top"
                                      ngbTooltip="Edit Declaration"></i>
                                  </a>
                                </div>
                              </div>
                            </ng-container>
                          </div>

                          <div class="t-body fs-5 text-center p-5 m-5" *ngIf="!SectionIsReady">
                            Unable to load tax saving allowances.
                            Please contact to admin.
                          </div>
                        </div>
                        <div class="modal-footer border-top-0">
                          <button type="button" class="btn btn-outline-primary" (click)="nextDeclaration('otherExemptions')">
                            <i class="fa pe-2" [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-arrow-left': !isLoading}"></i>
                            <span class="ps-2">{{isLoading ? 'Wait': 'Prev'}}</span>
                          </button>
                          <!-- <button type="button" class="btn btn-outline-success"
                            (click)="submitDeclaration()">Submit</button> -->
                        </div>
                      </ng-container>
                    </ng-template>
                  </li>

                  <li [ngbNavItem]="5">
                    <a ngbNavLink class="custom-text-color">House Property</a>
                    <ng-template ngbNavContent>
                      <ng-container>
                        <h5 class="text-dark">House Property</h5>
                        <p>Here you can declare all the gouse property rented or owned.</p>
                        <div class="alert alert-warning fs-6" role="alert" *ngIf="houseRentDetail.TotalRent > 0 && houseRentDetail.TotalRent > 100000">
                          The total rent amount for this financial year exceeds INR 1,00,000. You need to provide Owner PAN details or Signed documents.
                        </div>
                        <div class="col-md-12 row pb-5">
                          <div class="col-md-9 ps-3">
                            <div class="col-md-12">
                              <div class="card px-3 pb-3">
                                <h5 class="pt-3 pb-2">I live in a rented residence</h5>
                                <div class="alert alert-info" role="alert" *ngIf="houseRentDetail== null || houseRentDetail == ''">
                                  There are no rental details available
                                </div>
                                <p class="mb-0">{{houseRentDetail.RentedFrom}} - {{houseRentDetail.RentedTo}}</p>
                                <div class="custom-bg text-dark d-flex align-items-center py-2 my-3 rounded" *ngIf="houseRentDetail.TotalRent > 0">
                                  <a href="javascript:void(0)" class="text-decoration-none" (click)="showrentedDetail()">
                                    <i class="fa-lg ps-4" [ngClass]="{'fa-solid fa-caret-right': !isShowRentedDetail, 'fa-solid fa-caret-down': isShowRentedDetail}"></i>
                                  </a>
                                  <div class="pe-2 ps-4">
                                    <small>MONTH</small>
                                    <p class="mb-0">{{houseRentDetail.RentedFrom}} - {{houseRentDetail.RentedTo}}</p>
                                  </div>
                                  <span class="fs-5 px-4"></span>
                                  <div class="px-2">
                                    <small>CITY</small>
                                    <p class="mb-0">{{houseRentDetail.City}}</p>
                                  </div>
                                  <span class="fs-5 px-4"></span>
                                  <div class="px-2">
                                    <small>NUMBER OF OWNERS</small>
                                    <p class="mb-0">1</p>
                                  </div>
                                  <div class="ms-auto">
                                    <span class="badge bg-primary">RENTED</span>
                                    <span class="badge bg-success ms-2">AUTO APPROVED TILL CUTOFF DATE</span>
                                    <a href="javascript:void(0)" class="text-decoration-none text-dark" (click)="editRentedResidence(houseRentDetail)">
                                      <i class="fa-solid fa-ellipsis-vertical ps-3 pe-4" aria-hidden="true"></i>
                                    </a>
                                  </div>
                                </div>
                                <div class="card mb-4" *ngIf="isShowRentedDetail">
                                  <p class="mb-0 custom-bg text-dark py-2 ps-2">Rentail Details</p>
                                  <div class="bg-white d-flex align-items-center py-2 my-3 rounded" *ngIf="houseRentDetail.TotalRent > 0">
                                    <div class="pe-2 ps-4 col-md-4">
                                      <small>RENTED DECLARED</small>
                                      <p class="mb-0 text-dark">INR {{houseRentDetail.TotalRent}}</p>
                                    </div>
                                    <div class="px-2 col-md-4">
                                      <small>ADDRESS</small>
                                      <p class="mb-0 text-dark">{{houseRentDetail.Address}}</p>
                                    </div>
                                  </div>
                                  <p class="mb-0 custom-bg text-dark py-2 ps-2">Owner Details</p>
                                  <div class="bg-white d-flex align-items-center py-2 my-3 rounded" *ngIf="houseRentDetail.TotalRent > 0">
                                    <div class="pe-2 ps-4 col-md-2">
                                      <small>NAME</small>
                                      <p class="mb-0 text-dark">{{houseRentDetail.OwnerName}}</p>
                                    </div>
                                    <div class="px-2 col-md-2">
                                      <small>PAN NUMBER</small>
                                      <p class="mb-0 text-dark">{{houseRentDetail.PANNo}}</p>
                                    </div>
                                    <div class="px-2 col-md-4">
                                      <small>ADDRESS</small>
                                      <p class="mb-0 text-dark">{{houseRentDetail.OwnerAddress}}</p>
                                    </div>
                                  </div>
                                </div>
                                <div *ngIf="houseRentDetail.TotalRent <= 0">
                                  <button class="btn btn-outline-primary" (click)="rentedDecalrationPopup()"> <i
                                      class="fa-solid fa-plus"></i> Add Rented
                                    Residence</button>
                                </div>
                              </div>
                            </div>
                            <div class="col-md-12 mt-4 mb-3">
                              <div class="card px-3 pb-3">
                                <h5 class="pt-3 pb-2">I own residdence</h5>
                                <div class="alert alert-info" role="alert">
                                  There are no own residence details available
                                </div>
                                <div>
                                  <button class="btn btn-outline-primary"> <i class="fa-solid fa-plus"></i> Add Own
                                    Residence</button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <div class="col-md-3 mb-3">
                            <div class="card">
                              <div class="d-flex align-items-center pt-3 ps-3">
                                <i class="fa-solid fa-bullhorn"></i>
                                <h6 class="mb-0 ps-3">House property declaration</h6>
                              </div>
                              <ul class="pt-3">
                                <li>You can add more than one rented property or own property for the current financial
                                  year.
                                </li>
                                <li class="pt-3">For rented property if the total rent is more than &#x20b9; 100000 then
                                  you
                                  need to provide either PAN of owner or declaration letter.</li>
                                <li class="pt-3">For rented property you are eligible for HRA and in case HRA is not
                                  paid by
                                  your employer you will be eligible for exemption under section 80 GG.</li>
                                <li class="pt-2">For own property/residence you will be eligible for house loan interest
                                  exemption under section 24.</li>
                              </ul>
                            </div>
                          </div>
                        </div>
                      </ng-container>
                    </ng-template>
                  </li>
                </ul>
                <div [ngbNavOutlet]="nav" class="mt-3"></div>
              </div>
            </div>
          </ng-container>
        </div>
      </div>
    </div>
  </div>
</div>

<!-- Manage Declaration Modal -->
<div class="modal fade delete-popup" id="manageDeclarationModal" tabindex="-1" aria-labelledby="manageDeclarationModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-xl p-5 ">
    <div class="modal-content rounded-3 px-4">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title fw-normal" id="manageDeclarationModalLabel" *ngIf="selectDeclaration != null">{{selectDeclaration == '' ? 'Add' : 'Update'}} {{selectDeclaration.ComponentId}} ({{selectDeclaration.ComponentFullName}}) Details
        </h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" *ngIf="selectDeclaration != null">
        <div class="modal-body" *ngIf="selectDeclaration != null">
          <div class="row align-items-end">
            <div class="col-md-5">
              <label  class="form-label">Max Limit</label>
              <input type="text" [value]="selectDeclaration.MaxLimit > 0 ? selectDeclaration.MaxLimit : 'No Limit'" class="form-control" readonly>
            </div>
            <div class="col-md-5">
              <label  class="form-label">Declared Value</label>
              <input [ngClass]="{'error-field': isAmountExceed}" [(ngModel)]="selectDeclaration.DeclaredValue" name="DeclaratedValue" class="form-control" DecimalNumber="9"
                (keyup)="checkMaxLimit($event, selectDeclaration.MaxLimit)">
            </div>
            <div class="col-md-2">
              <button class="btn btn-danger" (click)="removeDeclaration()">Remove</button>
            </div>
          </div>
        </div>
        <h5 class="my-3">{{selectDeclaration.ComponentFullName}} Attachment</h5>
        <div class="col-12 row m-0">
          <div class="col-md-12 overflow-auto" style="height: 33vh">
            <ng-container *ngIf="slectedDeclarationnFile.length > 0">
              <table class="table" border="1">
                <thead>
                  <tr class="table-simple">
                    <th width="8%">#</th>
                    <th>File Name</th>
                    <th width="25%">File Size (KB)</th>
                    <th width="10%">Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of slectedDeclarationnFile; let i = index">
                    <td class="counterCell">{{i+1}}</td>
                    <td>{{item.FileName}}</td>
                    <td>
                      <ng-container *ngIf="item.FileSize > 0">
                        {{item.FileSize/1024 | number: '1.2-2'}}
                      </ng-container>
                      <ng-container *ngIf="item.FileSize == null || item.FileSize <= 0">
                        ---
                      </ng-container>
                    </td>
                    <td>
                      <a href="javascript:void(0)" class="text-decoration-none" (click)="viewFile(item)"><i class="fa-regular fa-eye px-2 text-dark"></i></a>
                      <a href="javascript:void(0)" class="text-decoration-none" (click)="deletePopup(item, 'deletefile')"><i class="fa-solid fa-trash-can px-2 text-danger"></i></a>
                    </td>
                  </tr>
                  <tr *ngIf="totalFileSize > 0">
                    <td colspan="2" class="ps-5 fw-bold">Total Size: </td>
                    <td colspan="2" class="fw-bold">{{totalFileSize | number: '1.2-2'}} KB</td>
                  </tr>
                </tbody>
              </table>
            </ng-container>
            <ng-container *ngIf="slectedDeclarationnFile.length == 0">
              <table class="table" border="1" *ngIf="FilesCollection.length > 0">
                <thead>
                  <tr class="table-simple">
                    <th width="8%">#</th>
                    <th>File Name</th>
                    <th width="15%">File Size (KB)</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr *ngFor="let item of FilesCollection; let i=index;">
                    <td>{{i+1}}</td>
                    <td>{{item.name}}</td>
                    <td>{{item.size/1024 | number: '1.2-2'}}</td>
                    <td>
                      <a href="javascript:void(0)" class="text-decoration-none" (click)="cleanAttachment(i)"><i class="fa-solid fa-trash-can px-2 text-danger"></i></a>
                    </td>
                  </tr>
                  <tr *ngIf="totalFileSize > 0">
                    <td colspan="2" class="ps-5 fw-bold">Total Size: </td>
                    <td width="15%" class="fw-bold">{{totalFileSize | number: '1.2-2'}} KB</td>
                  </tr>
                </tbody>
              </table>
            </ng-container>

            <div class="text-danger text-center fw-bold" *ngIf="isLargeFile">
              File size is greater than 2028KB i.e 2 MB, so please remove some file
            </div>
            <div class="select-message" *ngIf="FilesCollection.length == 0  && slectedDeclarationnFile.length == 0">
              <h3>
                Please upload at least one file and You will see their details here.
              </h3>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-footer border-top-0 mb-2">
        <input type="file" id="uploadAttachment" class="d-none" multiple (change)="UploadAttachment($event)" />
        <a href="javascript:void(0)" class="text-decoration-none mx-2" (click)="fireFileBrowser()"><i class="fa-solid fa-paperclip pe-2"></i>Add Attachment</a>
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal" >Close</button>
        <button class="btn btn-primary-c ms-2" [disabled]="isLoading" (click)="saveDeclaration(selectDeclaration)" [disabled]="isLargeFile">
          <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-regular fa-floppy-disk': !isLoading}"></i>
          {{ isLoading ? 'Wait' : 'Save' }}
        </button>
      </div>
    </div>
  </div>
</div>

<!-- rented residence modal -->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="rentedResidenceModal" tabindex="-1"
  aria-labelledby="rentedResidenceModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg">
    <div class="modal-content px-4">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="rentedResidenceModalLabel">{{isRentedResidenceEdit ? 'Edit': 'Add'}} Rented Residence</h5>
        <button class="btn btn-danger" (click)="deleteRentDeclarationPopUp()"><i class="fa-solid fa-trash-can-o pe-2"></i>Reset</button>
        <!-- <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button> -->
      </div>
      <div class="modal-body">
        <form [formGroup]="rentResidenceForm" *ngIf="rentResidenceForm">
          <ng-container *ngIf="rentalPage == 1">
            <h5>Rental Deatils</h5>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label class="form-label">From</label>
                <select class="form-select" formControlName="RentedFrom">
                  <option value="">Select from date</option>
                  <option [value]="item.month + item.year" *ngFor="let item of taxCalender">{{item.month}} {{item.year}}
                  </option>
                </select>
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">To</label>
                <select class="form-select" formControlName="RentedTo">
                  <option value="">Select to date</option>
                  <option [value]="item.month + item.year" *ngFor="let item of taxCalender">{{item.month}} {{item.year}}
                  </option>
                </select>
              </div>
            </div>
            <div class="col-md-12 mt-3">
              <label class="form-label">Address</label>
              <textarea formControlName="Address" maxlength="100" placeholder="Address" class="form-control" oninput="this.value = this.value.toUpperCase()"></textarea>
            </div>
            <div class="row">
              <div class="col-md-6 mt-3">
                <label class="form-label">City</label>
                <input type="text" formControlName="City" maxlength="20" placeholder="City" class="form-control" oninput="this.value = this.value.toUpperCase()">
              </div>
              <div class="col-md-6 mt-3">
                <label class="form-label">Monthly Rent</label>
                <div class="form-group has-search">
                  <span class="fa-solid fa-indian-rupee-sign form-control-feedback"></span>
                  <input type="text" class="form-control" formControlName="TotalRent" placeholder="Total Rent"
                    OnlyNumber="9">
                </div>
                <small>Total Rent: <i class="fa-solid fa-indian-rupee-sign pe-1" aria-hidden="true"></i>{{rentResidenceForm.get('TotalRent').value * 12 | number: '1.2-2'}}</small>
              </div>
            </div>
            <div class="mt-3">
              <input type="file" class="d-none" accept=".png, .jpg, .pdf. .doc, .docx, .txt, application/pdf"
                (change)="uploadReceipts($event)" multiple id="uploadreceipt">
              <a href="javascript:void(0)" *ngIf="houseRentDetailFile.length <=0" (click)="fireuploadreceipt()" class="text-decoration-none"><i
                  class="fa-solid fa-paperclip pe-2 pt-3"></i>Rent Receipts or Agreement <i
                  class="fa-solid fa-circle-exclamation ps-2 text-secondary"></i></a>
              <span class="ps-3 fw-bold" *ngIf="FileDocumentList.length > 0">{{FileDocumentList.length}} file selected</span>
              <a href="javascript:void(0)" (click)="viewRentFilePopUp(houseRentDetailFile)">
                <span class="ps-3 fw-bold" *ngIf="FileDocumentList.length == 0 && houseRentDetailFile.length > 0">{{houseRentDetailFile.length}} file uploaded</span>
              </a>
            </div>
            <div class="modal-footer border-top-0">
              <button type="button" class="btn btn-danger" data-bs-dismiss="modal"><i class="fa-solid fa-xmark pe-2"></i>
                Cancel</button>
              <button type="button" class="btn btn-primary-c" (click)="navRentalpage(2)"><i
                  class="fa-solid fa-arrow-right pe-2"></i> Next</button>
            </div>
          </ng-container>
          <ng-container *ngIf="rentalPage == 2">
            <h5>Owner Name</h5>
            <div class="col-md-6 mt-3">
              <label class="form-label">Owner Name</label>
              <input type="text" class="form-control" maxlength="40" placeholder="Owner Name" formControlName="OwnerName" oninput="this.value = this.value.toUpperCase()">
            </div>
            <div class="form-check d-flex align-items-center col-md-6 mt-3">
              <input class="form-check-input" type="checkbox" (click)="panFieldEnable($event)"
                formControlName="IsPANNo">
              <label class="form-check-label px-2">
                PAN Number
              </label>
              <div class="col-md-8">
                <input type="text" class="form-control" maxlength="10" placeholder="PAN Number" [readonly]="!isPanEnable" oninput="this.value = this.value.toUpperCase()"
                  formControlName="PANNo">
              </div>
            </div>
            <div class="form-check col-md-6 mt-3">
              <input class="form-check-input" type="checkbox" (click)="sameOwnerAddress($event)" oninput="this.value = this.value.toUpperCase()" formControlName="IsOwnerAddressSame">
              <label class="form-check-label">
                Owner address same as rental address
              </label>
            </div>
            <div class="col-md-12 mt-3">
              <label class="form-label">Address</label>
              <textarea type="text" formControlName="Address" placeholder="OwnerAddress" class="form-control" maxlength="100"
                formControlName="OwnerAddress"></textarea>
            </div>
            <div class="form-check mt-3">
              <input class="form-check-input" formControlName="IsSignedDeclaration"
                (click)="signDeclFieldEnable($event)" type="checkbox">
              <label class="form-check-label">
                Signed Declaration Letter. You can use this <a href="javascript:void(0)"
                  class="text-decoration-none">Declaration Format. <i
                    class="fa-solid fa-circle-exclamation ps-2 text-secondary"></i></a>
              </label>
              <div class="col-md-6 mt-3">
                <label class="form-label">Owner Type</label>
                <select class="form-select" [disabled]="!isSignDeclareEnable" formControlName="LandlordType">
                  <option value="" disabled>Select Land lord Type</option>
                  <option value="Government">Government</option>
                  <option value="NonResident">Non Resident</option>
                  <option value="OtherValue">Other Value</option>
                </select>
                <div class="mt-3">
                  <input type="file" class="d-none" accept=".png, .jpg, .pdf. .doc, .docx, .txt, application/pdf"
                    (change)="uploadHRALetter($event)" multiple id="uploadHRALetter">
                  <a href="javascript:void(0)" class="text-decoration-none" (click)="fireuploadHRALetter()" *ngIf="houseRentDetailLetterFile.length <= 0"><i
                      class="fa-solid fa-paperclip pe-2 pt-3"></i>Upload declaration letter</a>
                  <span class="ps-3 fw-bold" *ngIf="hraLetterList.length > 0">{{this.hraLetterList.length}} file selected</span>
                  <a href="javascript:void(0)" (click)="viewRentFilePopUp(houseRentDetailLetterFile)">
                    <span class="ps-3 fw-bold" *ngIf="hraLetterList.length == 0 && houseRentDetailLetterFile.length > 0">{{houseRentDetailLetterFile.length}} file uploaded</span>
                  </a>
                </div>
              </div>
            </div>
            <div class="modal-footer border-top-0">
              <button type="button" class="btn btn-secondary" (click)="navRentalpage(1)"><i
                  class="fa-solid fa-arrow-left pe-2"></i> Back</button>
              <button class="btn btn btn-primary-c" [disabled]="isLoading" (click)="submitRentResidence()">
                <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-regular fa-floppy-disk': !isLoading}"></i>
                {{ isLoading ? 'Wait' : 'Save' }}
              </button>
            </div>
          </ng-container>
        </form>
      </div>
    </div>
  </div>
</div>
<!-- end -->

<!-- Pdf viewer modal -->
<div class="d-none file-container" id="file-container" (click)="closePdfViewer()">
  <div class="text-end">
    <a (click)="closePdfViewer()" class="close_view">
      <i class="fa-solid fa-xmark fa-2x" aria-hidden="true"></i>
    </a>
  </div>
  <iframe src="" width="800px" height="600px" style="border: none;"></iframe>
</div>
<!-- End pdf view modal -->

<!-- Delete Attachment Popup -->
<div class="modal delete-modal fade delete-popup" id="deleteAttachmentModal" tabindex="-1" aria-labelledby="deleteAttachmentModalLabel"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded">
      <div class="modal-header">
        <h5 class="modal-title fw-normal" id="deleteAttachmentModalLabel">{{deleteType == 'deletefile' ? 'Delete Only File' : 'Remove Declaration'}}</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body" *ngIf="deleteFile != null">
        <ng-container *ngIf="deleteType == 'deletefile'">
          <h5>You are trying to delete <span class="text-dark fw-bold">{{deleteFile.FileName}}</span> attachment file only.</h5>
          <p>Please press the confirm button to delete the file permanently</p>
        </ng-container>
        <ng-container *ngIf="deleteType == 'delete-declaration'">
          <h5>You are trying to delete <span class="text-dark fw-bold">{{deleteFile.ComponentFullName}}</span> component details</h5>
          <p>Please press the confirm button to delete {{deleteFile.ComponentFullName}} record permanently</p>
          <p><b>Note:</b> Make sure after deleting your declaration and tax amount may vary.</p>
        </ng-container>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn btn-primary-c" *ngIf="deleteType == 'delete-declaration'" [disabled]="isLoading" (click)="deleteDeclaration()">
          <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-regular fa-floppy-disk': !isLoading}"></i>
          {{ isLoading ? 'Wait' : 'Confirm' }}
        </button>
        <button class="btn btn btn-primary-c" *ngIf="deleteType == 'deletefile'" [disabled]="isLoading" (click)="deleteOnlyFile()">
          <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-regular fa-floppy-disk': !isLoading}"></i>
          {{ isLoading ? 'Wait' : 'Confirm' }}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- End -->

<!-- View Rent file -->
<div class="modal fade delete-modal" id="rentFileModal" tabindex="-1" aria-labelledby="rentFileModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title" id="rentFileModalLabel">Uploaded Rent Files</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <ng-container >
          <table class="table">
            <thead>
              <tr>
                <th width="8%">#</th>
                <th>File Name</th>
                <td width="20%">Action</td>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let item of viewRentPropFile; let i = index">
                <td class="counterCell">{{i+1}}</td>
                <td>{{item.FileName}}.{{item.FileExtension}}</td>
                <td>
                  <a href="javascript:void(0)" class="text-decoration-none" (click)="viewFile(item)"><i class="fa-regular fa-eye px-2 text-dark"></i></a>
                  <a href="javascript:void(0)" class="text-decoration-none" (click)="deleteRentFile(item)"><i class="fa-solid fa-trash-can px-2 text-danger"></i></a>
                </td>
              </tr>
            </tbody>
          </table>
        </ng-container>
      </div>
    </div>
  </div>
</div>
<!-- End -->

<!-- Delete rented declaration Popup -->
<div class="modal delete-modal fade delete-popup" id="deleteRentDeclrModal" tabindex="-1" aria-labelledby="deleteRentDeclrModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content rounded px-4">
      <div class="modal-header border-bottom-0">
        <h5 class="modal-title fw-normal" id="deleteRentDeclrModalLabel">Remove Rent Declaration</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
          <h5>You are trying to delete <span class="text-dark fw-bold">Rent Declaration</span> details and files</h5>
          <p>Please press the confirm button to delete Rent Declaration record permanently</p>
          <p><b>Note:</b> Make sure after deleting your rent declaration and amount may vary.</p>
      </div>
      <div class="modal-footer border-top-0">
        <button type="button" class="btn btn-outline-danger" data-bs-dismiss="modal">Cancel</button>
        <button class="btn btn btn-primary-c" [disabled]="isLoading" (click)="deleteRentDeclaration()">
          <i  [ngClass]="{'fa-solid fa-spinner fa-spin': isLoading, 'fa-regular fa-floppy-disk': !isLoading}"></i>
          {{ isLoading ? 'Wait' : 'Confirm' }}
        </button>
      </div>
    </div>
  </div>
</div>
<!-- End -->


<!-- <div class="circle">
  <div class="checkmark">
  </div>
</div> -->

<!-- New Income Tax regime Modal Start-->
<div class="modal fade" data-bs-backdrop="static" data-bs-keyboard="false" id="newIncomeTaxRegime" tabindex="-1"
  aria-labelledby="newIncomeTaxRegimeLabel" aria-hidden="true">
  <div class="modal-dialog modal-xl modal-dialog-centered">
    <div class="modal-content px-3">
      <div class="sticky-modal-header">
        <div class="modal-header bg-light">
          <h5 class="modal-title" id="newIncomeTaxRegimeLabel">Switch to Section</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <ng-container *ngIf="active == 1">
          <div class="card py-3 ps-3 shadow-lg">
            Here you can read the details of old tax regime
          </div>
        </ng-container>
        <ng-container *ngIf="active == 2">
          <div class="card py-3 ps-3 shadow-lg">
            Here you can read the details of new tax regime (section 115BAC) and then decide if you would like to switch
            to the new regime.
          </div>
        </ng-container>
      </div>
      <div class="modal-body">
      <ul ngbNav #nav="ngbNav" [(activeId)]="active" class="nav-tabs">
        <ng-container *ngFor="let item of taxRegimeDetails.taxRegimeDesc; let i= index;">
          <li [ngbNavItem]="i+1">
            <a ngbNavLink (click)="filterTaxSlab()">{{item.RegimeName}}</a>
            <ng-template ngbNavContent>
              <ng-container >
                <p class="alert mb-0 alert-info" *ngIf="active == 2">Section 115BAC is optional Individuals will have the options to pay taxes as
                  per new tax sales from FY {{year - 2}} - {{year -1}} onwards.</p>
                <div class="text-end">
                  <div class="btn-group py-3" role="group" aria-label="Basic radio toggle button group">
                    <ng-container *ngIf="active == 2">
                      <input type="radio" class="btn-check" name="btnradio" id= "btnradio1" autocomplete="off" (click)="switchTaxRegime()" [disabled]="isLoading">
                      <label class="btn btn-outline-primary" for="btnradio1">
                        <ng-container *ngIf="!isLoading">
                          Switch to {{item.RegimeName}} (Section 115BAC)
                        </ng-container>
                        <ng-container *ngIf="isLoading">
                          <i class="fa-solid fa-spinner fa-spin"></i><span class="ps-2">Waiting...</span>
                        </ng-container>
                      </label>
                    </ng-container>
                    <ng-container *ngIf="active == 1">
                      <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"
                        (click)="switchTaxRegime()"  [disabled]="isLoading">
                      <label class="btn btn-outline-primary ms-3" for="btnradio2">
                        <ng-container *ngIf="!isLoading">
                          Continue with {{item.RegimeName}}
                        </ng-container>
                        <ng-container *ngIf="isLoading">
                          <i class="fa-solid fa-spinner fa-spin"></i><span class="ps-2">Waiting...</span>
                        </ng-container>
                      </label>
                    </ng-container>
                  </div>
                </div>
                <p class="mb-0 fs-5 text-dark">Income Tax Slabs for Individuals of {{active == 1 ? 'your': 'any'}} age group under {{item.RegimeName}} -
                  <span *ngIf="active == 2">Applicable to FY {{year -2}} - {{year -1}} (AY {{year -2}} - {{year -1}})</span></p>
                <p *ngIf="active == 2" class="mb-0 py-2">As proposed in the union budget 2020, In the Income tax Act, the following section shall be
                  interested with effect from 1st day of April 2020.</p>
                <div class="t-table t-list  col-md-12 mt-4">
                  <div class="t-head alert-primary overflow-hidden">
                    <div class="tr bg-light fw-bold text-dark">
                      <div class="th">
                        <div class="cell-wrapper">
                          INCOME TAX SLAB
                        </div>
                      </div>
                      <div class="th">
                        TAX RATE
                      </div>
                    </div>
                  </div>
                  <div class="t-head overflow-hidden">
                    <div class="tr py-3" *ngFor="let slab of taxSlab">
                      <div class="td">
                        <div class="cell-wrapper">
                          <ng-container *ngIf="slab.MinTaxSlab == 0">
                            Income Upto {{slab.MaxTaxSlab}}
                          </ng-container>
                          <ng-container *ngIf="slab.MaxTaxSlab != 0 && slab.MinTaxSlab != 0">
                            Income between {{slab.MinTaxSlab}} to {{slab.MaxTaxSlab}}
                          </ng-container>
                          <ng-container *ngIf="slab.MaxTaxSlab == 0">
                            Income above {{slab.MinTaxSlab}}
                          </ng-container>
                        </div>
                      </div>
                      <div class="td">
                        <div class="cell-wrapper">
                          {{slab.TaxRatePercentage}}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
                <ul>
                  <li class="text-dark py-2">The tax calculated on the basis of such rates will be subject to health and
                    education cess of 4%.</li>
                  <li class="text-dark py-2" *ngIf="active == 2">Any individual option to be taxed under the new tax regime from FY {{currentYear -
                    2}} - {{currentYear - 1}} onwards will have to give up certain exemptions and deductions..</li>
                </ul>
                <ng-container *ngIf="active == 2">
                  <h5 class="text-dark">Here is the list of exemptions and deductions that a taxpayer will have to give up while
                    choosing the new tax regime.</h5>
                  <ul>
                    <li class="text-dark py-2">Leave Travel Allowance (LTA)</li>
                    <li class="text-dark py-2">House Rent Allowance (HRA)</li>
                    <li class="text-dark py-2">Conveyance</li>
                    <li class="text-dark py-2">Daily expenses in the course of employment</li>
                    <li class="text-dark py-2">Relocation allowance</li>
                    <li class="text-dark py-2">Helper allowance</li>
                    <li class="text-dark py-2">Children education allowance</li>
                    <li class="text-dark py-2">Other special allowance [Section 10(14)]</li>
                    <li class="text-dark py-2">Standard deduction</li>
                    <li class="text-dark py-2">Professional tax</li>
                    <li class="text-dark py-2">Interest on housing loan (Section 24)</li>
                    <li class="text-dark py-2">Chapter VI-A dedcution (80C, 80D, 80E and so on) (Except Section 80CCCD(2) and
                      80JJA).</li>
                  </ul>
                  <div class="alert alert-warning">Options to choose new tax regime can be exercised on or before 20 May
                    {{currentYear}}</div>
                  </ng-container>
                <p class="mb-0">To find out which tax regime suits you best, <a href="javascript:void(0)"
                    class="text-decoration-none">click here</a>
                </p>
                <div class="text-end">
                  <div class="btn-group py-3" role="group" aria-label="Basic radio toggle button group">
                    <ng-container *ngIf="active == 2">
                      <input type="radio" class="btn-check" name="btnradio" id= "btnradio1" autocomplete="off" (click)="switchTaxRegime()" [disabled]="isLoading">
                      <label class="btn btn-outline-primary" for="btnradio1">
                        <ng-container *ngIf="!isLoading">
                          Switch to {{item.RegimeName}} (Section 115BAC)
                        </ng-container>
                        <ng-container *ngIf="isLoading">
                          <i class="fa-solid fa-spinner fa-spin"></i><span class="ps-2">Waiting...</span>
                        </ng-container>
                      </label>
                    </ng-container>
                    <ng-container *ngIf="active == 1">
                      <input type="radio" class="btn-check" name="btnradio" id="btnradio2" autocomplete="off"
                        (click)="switchTaxRegime()"  [disabled]="isLoading">
                      <label class="btn btn-outline-primary ms-3" for="btnradio2">
                        <ng-container *ngIf="!isLoading">
                          Continue with {{item.RegimeName}}
                        </ng-container>
                        <ng-container *ngIf="isLoading">
                          <i class="fafa-solid fa-spinner fa-spin"></i><span class="ps-2">Waiting...</span>
                        </ng-container>
                      </label>
                    </ng-container>
                  </div>
                </div>
              </ng-container>
            </ng-template>
          </li>
        </ng-container>
        <li [ngbNavItem]="3">
          <a ngbNavLink>Comparision</a>
          <ng-template ngbNavContent>
            <h4 class="fw-bold text-dark py-3">Here you can see the comparision betwwen of old and new tax regime</h4>
            <div class="row">
              <div class="col-md-6">
                <h5 class="text-dark">Income Tax Slabs for Individuals of your age group under Old Tax Regime</h5>
                <div class="t-table t-list  col-md-12 mt-4">
                  <div class="t-head alert-primary overflow-hidden">
                    <div class="tr bg-light fw-bold text-dark">
                      <div class="th fe-3">
                        <div class="cell-wrapper">
                          INCOME TAX SLAB
                        </div>
                      </div>
                      <div class="th">
                        TAX RATE
                      </div>
                    </div>
                  </div>
                  <div class="t-head overflow-hidden">
                    <div class="tr py-3" *ngFor="let item of oldTaxRegimeSlab; let last=last" [ngClass]="{'fw-bold text-dark': last}">
                      <div class="td fe-3">
                        <div class="cell-wrapper">
                          {{item[1].Description}}
                        </div>
                      </div>
                      <div class="td">
                        <div class="cell-wrapper">
                          <i class="fa-solid fa-indian-rupee-sign pe-1"></i>{{item[1].Value | number:'1.2-2'}}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-md-6">
                <h5 class="text-dark">Income Tax Slabs for Individuals of your age group under New Tax Regime</h5>
                <div class="t-table t-list  col-md-12 mt-4">
                  <div class="t-head alert-primary overflow-hidden">
                    <div class="tr bg-light fw-bold text-dark">
                      <div class="th fe-3">
                        <div class="cell-wrapper">
                          INCOME TAX SLAB
                        </div>
                      </div>
                      <div class="th">
                        TAX RATE
                      </div>
                    </div>
                  </div>
                  <div class="t-head overflow-hidden">
                    <div class="tr py-3" *ngFor="let item of newTaxRegimeSlab; let last=last" [ngClass]="{'fw-bold text-dark': last}">
                      <div class="td fe-3">
                        <div class="cell-wrapper">
                          {{item[1].Description}}
                        </div>
                      </div>
                      <div class="td">
                        <div class="cell-wrapper">
                          <i class="fa-solid fa-indian-rupee-sign pe-1"></i>{{item[1].Value | number:'1.2-2'}}
                        </div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </ng-template>
        </li>
      </ul>

      <div [ngbNavOutlet]="nav" class="mt-2"></div>
      </div>
    </div>
  </div>
</div>
<!-- End -->